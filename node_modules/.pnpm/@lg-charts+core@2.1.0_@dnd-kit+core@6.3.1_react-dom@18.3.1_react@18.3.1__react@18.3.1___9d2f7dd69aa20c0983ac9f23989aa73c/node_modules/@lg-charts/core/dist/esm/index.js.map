{"version":3,"file":"index.js","sources":["../../src/ChartContext/ChartContext.tsx","../../src/Chart/Chart.styles.ts","../../src/Chart/Chart.types.ts","../../src/Echart/Echart.types.ts","../../src/Echart/initializeEcharts.ts","../../src/Echart/utils/updateUtils.ts","../../src/Echart/useEchart.ts","../../src/constants.ts","../../src/Chart/config/getDefaultChartOptions.ts","../../src/Chart/hooks/useChart.ts","../../src/Chart/hooks/useTooltipVisibility.ts","../../src/Chart/Chart.tsx","../../src/ChartGrid/ChartGrid.tsx","../../src/ChartHeader/ChartHeader.styles.ts","../../src/ChartHeader/ChartHeader.tsx","../../src/ChartTooltip/ChartTooltip.styles.ts","../../src/ChartTooltip/CustomTooltip/CustomTooltip.styles.ts","../../src/ChartTooltip/CustomTooltip/SeriesListItemColorDot/SeriesListItemColorDot.styles.ts","../../src/ChartTooltip/CustomTooltip/SeriesListItem/SeriesListItem.styles.ts","../../src/ChartTooltip/CustomTooltip/SeriesListItemColorDot/SeriesListItemColorDot.tsx","../../src/ChartTooltip/CustomTooltip/SeriesList/SeriesList.styles.ts","../../src/ChartTooltip/CustomTooltip/SeriesListItem/SeriesListItem.tsx","../../src/ChartTooltip/CustomTooltip/SeriesList/SeriesList.tsx","../../src/ChartTooltip/CustomTooltip/CustomTooltip.tsx","../../src/ChartTooltip/ChartTooltip.tsx","../../src/EventMarkers/BaseEventMarker/BaseEventMarker.types.ts","../../src/EventMarkers/BaseEventMarker/utils.ts","../../src/EventMarkers/BaseEventMarker/BaseEventMarker.tsx","../../src/EventMarkers/EventMarkerLine/EventMarkerLine.tsx","../../src/EventMarkers/EventMarkerPoint/EventMarkerPoint.tsx","../../src/Line/config/defaultLineOptions.ts","../../src/Line/Line.tsx","../../src/ThresholdLine/ThresholdLine.tsx","../../src/ThresholdLine/svgSymbolPath.ts","../../src/XAxis/XAxis.tsx","../../src/YAxis/YAxis.tsx"],"sourcesContent":["import React, { createContext, PropsWithChildren, useContext } from 'react';\n\nimport { ChartContextType } from './ChartContext.types';\n\nexport const ChartContext = createContext<ChartContextType | undefined>(\n  undefined,\n);\n\nexport const ChartProvider = ({\n  children,\n  chart,\n}: PropsWithChildren<ChartContextType>) => {\n  return (\n    <ChartContext.Provider value={{ chart }}>{children}</ChartContext.Provider>\n  );\n};\n\nexport const useChartContext = () => {\n  const context = useContext(ChartContext);\n\n  if (!context) {\n    throw new Error('useChartContext must be used within a ChartProvider');\n  }\n\n  return context;\n};\n","import { CSS, Transform } from '@dnd-kit/utilities';\n\nimport { css, cx } from '@leafygreen-ui/emotion';\nimport { createUniqueClassName, Theme } from '@leafygreen-ui/lib';\nimport { color, InteractionState, Variant } from '@leafygreen-ui/tokens';\n\nimport { ChartStates } from './Chart.types';\n\nexport const chartWrapperClassName = createUniqueClassName('chart-wrapper');\n\nconst getBaseContainerStyles = (theme: Theme) => css`\n  background: ${color[theme].background[Variant.Primary][\n    InteractionState.Default\n  ]};\n  display: grid;\n  grid-template-areas:\n    'chartHeader'\n    'chart';\n  height: 316px; // 280px + 36px for header\n  grid-template-columns: 100%;\n  grid-template-rows: auto 1fr;\n  width: 100%;\n`;\n\n/**\n * The CSS helper is a helper for generating CSS transform strings, and is\n * equivalent to manually constructing the string as such:\n *\n * CSS.Translate.toString(transform) === `translate3d(${translate.x}, ${translate.y}, 0)`\n */\nconst getDraggableContainerStyles = (\n  transform: Transform | null,\n  transition?: string,\n) => css`\n  transform: ${CSS.Transform.toString(transform)};\n  transition: ${transition};\n`;\n\nconst getDraggingContainerStyles = () => css`\n  opacity: 0.3;\n`;\n\n// TODO: This should be a token once we audit our shadows\nconst getOverlayContainerStyles = (theme: Theme) => css`\n  box-shadow: 0 18px 18px -15px rgba(0, 30, 43, 0.2);\n  border: 1px solid\n    ${color[theme].border[Variant.Disabled][InteractionState.Default]};\n  border-top: none; // border-top is already applied to the header\n`;\n\nexport const getChartContainerStyles = ({\n  theme,\n  transform,\n  transition,\n  isDraggable,\n  state,\n}: {\n  theme: Theme;\n  transform: Transform | null;\n  transition?: string;\n  isDraggable: boolean;\n  state: ChartStates;\n}) =>\n  cx(getBaseContainerStyles(theme), {\n    [getDraggableContainerStyles(transform, transition)]: isDraggable,\n    [getDraggingContainerStyles()]: state === ChartStates.Dragging,\n    [getOverlayContainerStyles(theme)]: state === ChartStates.Overlay,\n  });\n\nexport const getChartHeaderContainerStyles = ({\n  theme,\n  state,\n  isDraggable,\n}: {\n  theme: Theme;\n  state: ChartStates;\n  isDraggable: boolean;\n}) =>\n  cx(\n    css`\n      grid-area: chartHeader;\n      background: ${state === ChartStates.Overlay\n        ? color[theme].background[Variant.Primary][InteractionState.Hover]\n        : 'none'};\n    `,\n    {\n      [css`\n        cursor: move;\n      `]: isDraggable,\n    },\n  );\n\nconst baseChartWrapperStyles = css`\n  position: relative;\n  display: block;\n  grid-area: chart;\n  width: 100%;\n`;\n\nexport const chartWrapperStyles = cx(\n  baseChartWrapperStyles,\n  chartWrapperClassName,\n);\n\nexport const chartStyles = css`\n  height: 100%;\n  width: 100%;\n`;\n\nexport const getLoadingOverlayStyles = (theme: Theme) => css`\n  background: ${color[theme].background[Variant.Primary][\n    InteractionState.Default\n  ]};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  z-index: 1;\n`;\n\nexport const getLoadingTextStyles = (theme: Theme) => css`\n  color: ${color[theme].text[Variant.Secondary][InteractionState.Default]};\n`;\n","import React, { PropsWithChildren } from 'react';\n\nimport { DarkModeProps } from '@leafygreen-ui/lib';\n\nimport {\n  EChartOptions,\n  EChartSeriesOption,\n  EChartZoomSelectionEvent,\n} from '../Echart';\n\nimport { ZoomSelect } from './hooks/useChart.types';\n\nexport type SeriesOption = EChartSeriesOption;\nexport type ChartOptions = EChartOptions;\nexport type ZoomSelectionEvent = EChartZoomSelectionEvent;\n\nexport const ChartStates = {\n  Unset: 'unset',\n  Loading: 'loading',\n  Dragging: 'dragging',\n  Overlay: 'overlay',\n} as const;\nexport type ChartStates = (typeof ChartStates)[keyof typeof ChartStates];\n\nexport type ChartProps = React.ComponentPropsWithoutRef<'div'> &\n  DarkModeProps &\n  PropsWithChildren<{\n    /**\n     * Unique identifier when using with `DragProvider`.\n     */\n    dragId?: string | number;\n\n    /**\n     * Enables tooltip synchronization across charts with the same groupId.\n     * groupId must be set for this to work.\n     * @default true\n     */\n    enableGroupTooltipSync?: boolean;\n\n    /**\n     * Charts with same groupID will have their tooltips synchronized.\n     */\n    groupId?: string;\n\n    /**\n     * Callback to be called when chart is finished rendering.\n     */\n    onChartReady?: () => void;\n\n    /**\n     * Zoom selection enablement configuration.\n     */\n    onZoomSelect?: (e: ZoomSelectionEvent) => void;\n\n    /**\n     * Controls the current chart state.\n     */\n    state?: ChartStates;\n\n    /**\n     * Zoom selection configuration.\n     */\n    zoomSelect?: ZoomSelect;\n  }>;\n","import type { XAXisComponentOption, YAXisComponentOption } from 'echarts';\nimport type { LineSeriesOption } from 'echarts/charts';\nimport type {\n  DatasetComponentOption,\n  GridComponentOption,\n  LegendComponentOption,\n  TitleComponentOption,\n  ToolboxComponentOption,\n  TooltipComponentOption,\n} from 'echarts/components';\nimport type { ComposeOption, EChartsType } from 'echarts/core';\n\nimport { Theme } from '@leafygreen-ui/lib';\n\n// Type not exported by echarts.\n// reference: https://github.com/apache/echarts/blob/master/src/coord/axisCommonTypes.ts#L193\nexport type AxisLabelValueFormatter = (value: number, index?: number) => string;\n\ntype RequiredSeriesProps = 'type' | 'name' | 'data';\nexport type EChartSeriesOption = Pick<LineSeriesOption, RequiredSeriesProps> &\n  Partial<Omit<LineSeriesOption, RequiredSeriesProps>>;\n\n/**\n * TODO: This might need to be improved. `ComposeOption` appears to make most base option\n * keys \"Arrayable\". This is making it difficult to properly test partial options on\n * methods like updateUtils > updateOptions(), since something like `options.grid` could be\n * an array even if an object.\n */\nexport type EChartOptions = ComposeOption<\n  | TooltipComponentOption\n  | GridComponentOption\n  | DatasetComponentOption\n  | TitleComponentOption\n  | LegendComponentOption\n  | ToolboxComponentOption\n  | XAXisComponentOption\n  | YAXisComponentOption\n> & { series?: Array<EChartSeriesOption> };\n\nexport const EChartEvents = {\n  // Mouse Events\n  Click: 'click',\n  DblClick: 'dblclick',\n  MouseDown: 'mousedown',\n  MouseUp: 'mouseup',\n  MouseOver: 'mouseover',\n  MouseOut: 'mouseout',\n  MouseMove: 'mousemove',\n  GlobalOut: 'globalout',\n  ContextMenu: 'contextmenu',\n  // Drag Events\n  DragStart: 'dragstart',\n  Drag: 'drag',\n  DragEnd: 'dragend',\n  // Brush Events\n  BrushSelected: 'brushselected',\n  BrushEnd: 'brushEnd',\n  Brush: 'brush',\n  // Legend Events\n  LegendSelectChanged: 'legendselectchanged',\n  LegendSelected: 'legendselected',\n  LegendUnselected: 'legendunselected',\n  LegendSelectAll: 'legendselectall',\n  LegendInverseSelect: 'legendinverseselect',\n  LegendScroll: 'legendscroll',\n  // Datzoom Events\n  DataZoom: 'datazoom',\n  DataRangeSelected: 'datarangeselected',\n  TimelineChanged: 'timelinechanged',\n  TimelinePlayChanged: 'timelineplaychanged',\n  Restore: 'restore',\n  // Map Events\n  GeoRoam: 'georoam',\n  GeoSelected: 'geoselected',\n  GeoUnselected: 'geounselected',\n  // Axis Events\n  AxisAreaSelected: 'axisareaselected',\n  FocusNodeAdjacency: 'focusnodeadjacency',\n  UnfocusNodeAdjacency: 'unfocusnodeadjacency',\n  // Rendering Events\n  Rendered: 'rendered',\n  Finished: 'finished',\n  // Chart Action Events\n  MagicTypeChanged: 'magictypechanged',\n  TooltipShown: 'tooltipshown',\n  TooltipHidden: 'tooltiphidden',\n  SelectChanged: 'selectchanged',\n  GlobalCursorTaken: 'globalcursortaken',\n  // Custom\n  ZoomSelect: 'zoomselect',\n} as const;\n\nexport type EChartEventsType = (typeof EChartEvents)[keyof typeof EChartEvents];\n\nexport interface EChartZoomSelectionEvent {\n  xAxis?: { startValue: number; endValue: number };\n  yAxis?: { startValue: number; endValue: number };\n}\n\nexport interface EChartSetupZoomSelectProps {\n  xAxis?: boolean;\n  yAxis?: boolean;\n}\n\ninterface EChartsEventHandlerType {\n  (\n    event: EChartEventsType,\n    callback: (params: any) => void,\n    options?: Partial<{ useCanvasAsTrigger: boolean }>,\n  ): void;\n  (\n    event: 'zoomselect',\n    callback: (params: EChartZoomSelectionEvent) => void,\n    options?: Partial<{ useCanvasAsTrigger: boolean }>,\n  ): void;\n}\n\nexport interface EChartsInstance {\n  _getEChartsInstance: () => EChartsType | null;\n  _getOptions: () => Partial<EChartOptions>;\n  addSeries: (series: EChartSeriesOption) => void;\n  addToGroup: (groupId: string) => void;\n  enableZoom: () => void;\n  error: Error | null;\n  hideTooltip: () => void;\n  off: EChartsEventHandlerType;\n  on: EChartsEventHandlerType;\n  ready: boolean;\n  removeFromGroup: () => void;\n  removeSeries: (name: string) => void;\n  resize: () => void;\n  setupZoomSelect: (props: EChartSetupZoomSelectProps) => void;\n  showTooltip: (x: number, y: number) => void;\n  updateOptions: (options: Omit<Partial<EChartOptions>, 'series'>) => void;\n}\n\nexport interface EChartHookProps {\n  container: HTMLDivElement | null;\n  initialOptions?: Partial<EChartOptions>;\n  shouldEnableZoom?: boolean;\n  theme: Theme;\n}\n","// Singleton promise for initialization to prevent duplication\nlet initPromise: Promise<typeof import('echarts/core')> | null = null;\nlet echartsCore: typeof import('echarts/core') | null = null;\nlet echartsCharts: typeof import('echarts/charts') | null = null;\nlet echartsRenders: typeof import('echarts/renderers') | null = null;\nlet echartsComponents: typeof import('echarts/components') | null = null;\n\n/**\n * Initializes ECharts core and required components in a singleton pattern.\n * Dynamically imports and configures ECharts modules including charts,\n * renderers, and components. Subsequent calls return the cached module to\n * prevent duplicate initialization.\n *\n * @returns Promise resolving to the initialized ECharts core module\n * @throws If module imports or initialization fails\n *\n * @example\n * const echarts = await initializeEcharts();\n * // Use initialized echarts module\n */\nexport async function initializeEcharts(): Promise<\n  typeof import('echarts/core')\n> {\n  // If already initialized, return echartsCore immediately\n  if (echartsCore) {\n    return echartsCore;\n  }\n\n  // If initialization is in progress, wait for it\n  if (initPromise) {\n    return initPromise;\n  }\n\n  // Start initialization and store the promise\n  initPromise = (async () => {\n    try {\n      const [\n        echartsCoreResolved,\n        echartsChartsResolved,\n        echartsRendersResolved,\n        echartsComponentsResolved,\n      ] = await Promise.all([\n        import('echarts/core'),\n        import('echarts/charts'),\n        import('echarts/renderers'),\n        import('echarts/components'),\n      ]);\n\n      echartsCore = echartsCoreResolved;\n      echartsCharts = echartsChartsResolved;\n      echartsRenders = echartsRendersResolved;\n      echartsComponents = echartsComponentsResolved;\n\n      // Registers any component we need to use. This is necessary to facilitate tree shaking.\n      echartsCore.use([\n        echartsCharts.LineChart,\n        echartsRenders.CanvasRenderer,\n        echartsComponents.TitleComponent,\n        echartsComponents.TooltipComponent,\n        echartsComponents.GridComponent,\n        echartsComponents.LegendComponent,\n        echartsComponents.ToolboxComponent,\n        echartsComponents.DataZoomComponent,\n        echartsComponents.DataZoomInsideComponent,\n        echartsComponents.MarkLineComponent,\n        echartsComponents.MarkPointComponent,\n      ]);\n\n      return echartsCore;\n    } catch (error) {\n      // Ensure we clear the promise if initialization fails\n      initPromise = null;\n      throw error;\n    }\n  })();\n\n  return initPromise;\n}\n","import { EChartOptions, EChartSeriesOption } from '../Echart.types';\n\nexport function addSeries(\n  currentOptions: EChartOptions,\n  data: EChartSeriesOption,\n): Partial<EChartOptions> {\n  const updatedOptions = { ...currentOptions };\n\n  if (!updatedOptions.series) {\n    updatedOptions.series = [data];\n  } else {\n    if (!updatedOptions.series.some(series => series.name === data.name)) {\n      updatedOptions.series.push(data);\n    }\n  }\n\n  return updatedOptions;\n}\n\nexport function removeSeries(\n  currentOptions: EChartOptions,\n  name: string,\n): Partial<EChartOptions> {\n  const updatedOptions = { ...currentOptions };\n\n  if (updatedOptions.series) {\n    updatedOptions.series = [\n      ...updatedOptions.series.filter(series => series.name !== name),\n    ];\n  }\n\n  return updatedOptions;\n}\n\n/**\n * Method to recursively merge two objects. It should update keys if they\n * already exist and add them if they don't. However, it shouldn't completely\n * overwrite a key it's an already existing object.\n *\n * They goal is to allow for partial updates to the chart options object.\n */\nfunction recursiveMerge(\n  target: { [key: string]: any },\n  source: { [key: string]: any },\n) {\n  const updatedObj = { ...target };\n\n  for (const key in source) {\n    if (\n      typeof source[key] === 'object' &&\n      typeof updatedObj[key] === 'object'\n    ) {\n      // Recursively update nested objects\n      updatedObj[key] = recursiveMerge(updatedObj[key], source[key]);\n    } else {\n      // Update or add the value for the key\n      updatedObj[key] = source[key];\n    }\n  }\n\n  return updatedObj;\n}\n\nexport function updateOptions(\n  currentOptions: EChartOptions,\n  options: Partial<EChartOptions>,\n): Partial<EChartOptions> {\n  return recursiveMerge(currentOptions, options);\n}\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { colors } from '@lg-charts/colors';\nimport type { EChartsType } from 'echarts/core';\nimport isEqual from 'lodash/isEqual';\n\nimport { usePrevious } from '@leafygreen-ui/hooks';\n\nimport {\n  EChartEvents,\n  type EChartHookProps,\n  type EChartOptions,\n  type EChartsInstance,\n  type EChartZoomSelectionEvent,\n} from './Echart.types';\nimport { initializeEcharts } from './initializeEcharts';\nimport * as utils from './utils';\n\n/**\n * Wrapper around the ECharts library. Instantiates an ECharts instance.\n * Provides helper methods to hide ECharts specific logic and give a cleaner API\n * for interacting with a chart.\n */\nexport function useEchart({\n  container,\n  initialOptions,\n  shouldEnableZoom = false,\n  theme,\n}: EChartHookProps): EChartsInstance {\n  const echartsCoreRef = useRef<typeof import('echarts/core') | null>(null);\n  const echartsInstanceRef = useRef<EChartsType | null>(null);\n  const initialOptionsRef = useRef(initialOptions);\n\n  const [options, setOptions] = useState<EChartOptions>(\n    initialOptionsRef.current || {},\n  );\n  const previousOptions = usePrevious(options);\n  const [error, setError] = useState<EChartsInstance['error']>(null);\n  const [ready, setReady] = useState<EChartsInstance['ready']>(false);\n\n  // Keep track of active handlers\n  const activeHandlers = useRef(new Map());\n\n  const addSeries: EChartsInstance['addSeries'] = useCallback(\n    data => {\n      if (!echartsInstanceRef.current) {\n        return;\n      }\n\n      setOptions(prevOptions => {\n        const updatedOptions = utils.addSeries(prevOptions, data);\n        return updatedOptions;\n      });\n    },\n    [setOptions],\n  );\n\n  const removeSeries: EChartsInstance['removeSeries'] = useCallback(\n    name => {\n      if (!echartsInstanceRef.current) {\n        return;\n      }\n\n      setOptions(prevOptions => {\n        const updatedOptions = utils.removeSeries(prevOptions, name);\n        return updatedOptions;\n      });\n    },\n    [setOptions],\n  );\n\n  const updateOptions: EChartsInstance['updateOptions'] = useCallback(\n    options => {\n      if (!echartsInstanceRef.current) {\n        return;\n      }\n\n      setOptions(prevOptions => {\n        const updatedOptions = utils.updateOptions(prevOptions, options);\n        return updatedOptions;\n      });\n    },\n    [setOptions],\n  );\n\n  const addToGroup: EChartsInstance['addToGroup'] = useCallback(\n    (groupId: string) => {\n      const echartsInstance = echartsInstanceRef.current;\n      const isInstanceAlreadyGrouped = echartsInstance?.group === groupId;\n\n      // echartsCoreRef.current should exist if instance does, but checking for extra safety\n      if (\n        !echartsCoreRef.current ||\n        !echartsInstance ||\n        isInstanceAlreadyGrouped\n      ) {\n        return;\n      }\n\n      echartsInstance.group = groupId;\n      echartsCoreRef.current.connect(groupId);\n    },\n    [],\n  );\n\n  const removeFromGroup: EChartsInstance['removeFromGroup'] =\n    useCallback(() => {\n      const echartsInstance = echartsInstanceRef.current;\n\n      if (!echartsInstance) {\n        return;\n      }\n\n      echartsInstance.group = '';\n    }, []);\n\n  const clearDataZoom = useCallback((params: any) => {\n    const echartsInstance = echartsInstanceRef.current;\n\n    /**\n     * If start is not 0% or end is not 100%, the 'dataZoom' event was\n     * triggered by a zoom. We override the zoom to prevent it from actually\n     * zooming.\n     */\n    const isZoomed = params?.start !== 0 || params?.end !== 100;\n\n    if (!isZoomed || !echartsInstance) {\n      return;\n    }\n\n    echartsInstance.dispatchAction({\n      type: 'dataZoom',\n      start: 0, // percentage of starting position\n      end: 100, // percentage of ending position\n    });\n  }, []);\n\n  const enableZoom = useCallback(() => {\n    const echartsInstance = echartsInstanceRef.current;\n\n    if (!echartsInstance) {\n      return;\n    }\n\n    echartsInstance.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'dataZoomSelect',\n      dataZoomSelectActive: true,\n    });\n  }, []);\n\n  const setupZoomSelect: EChartsInstance['setupZoomSelect'] = useCallback(\n    ({ xAxis, yAxis }) => {\n      const echartsInstance = echartsInstanceRef.current;\n\n      if (!echartsInstance) {\n        return;\n      }\n\n      // `0` index enables zoom on that index, `'none'` disables zoom on that index\n      const xAxisIndex: number | string = xAxis ? 0 : 'none';\n      const yAxisIndex: number | string = yAxis ? 0 : 'none';\n\n      updateOptions({\n        toolbox: {\n          feature: {\n            dataZoom: {\n              xAxisIndex,\n              yAxisIndex,\n            },\n          },\n        },\n      });\n\n      echartsInstance.off('dataZoom', clearDataZoom); // prevent adding dupes\n      echartsInstance.on('dataZoom', clearDataZoom);\n    },\n    [clearDataZoom, updateOptions],\n  );\n\n  const off: EChartsInstance['off'] = useCallback(\n    (action, callback, options) => {\n      const echartsInstance = echartsInstanceRef.current;\n\n      if (!echartsInstance) {\n        return;\n      }\n\n      switch (action) {\n        case EChartEvents.ZoomSelect: {\n          echartsInstance.off('datazoom', callback);\n          // Remove from active handlers\n          activeHandlers.current.delete(`${action}-${callback.toString()}`);\n          break;\n        }\n\n        default: {\n          options?.useCanvasAsTrigger\n            ? echartsInstance.getZr().off(action, callback)\n            : echartsInstance.off(action, callback);\n          activeHandlers.current.delete(`${action}-${callback.toString()}`);\n        }\n      }\n    },\n    [],\n  );\n\n  const on: EChartsInstance['on'] = useCallback((action, callback, options) => {\n    const echartsInstance = echartsInstanceRef.current;\n\n    if (!echartsInstance) {\n      return;\n    }\n\n    // Create a unique key for this handler\n    const handlerKey = `${action}-${callback.toString()}`;\n\n    // If this exact handler is already registered, skip\n    if (activeHandlers.current.has(handlerKey)) {\n      return;\n    }\n\n    switch (action) {\n      case EChartEvents.ZoomSelect: {\n        const zoomHandler = (params: any) => {\n          const zoomSelectionEvent: EChartZoomSelectionEvent = {};\n          const isSingleAxisZoom =\n            params.startValue !== undefined && params.endValue !== undefined;\n\n          if (isSingleAxisZoom) {\n            const axis = params.dataZoomId?.includes('y') ? 'yAxis' : 'xAxis';\n            zoomSelectionEvent[axis] = {\n              startValue: params.startValue,\n              endValue: params.endValue,\n            };\n            callback(zoomSelectionEvent);\n          } else if (params.batch) {\n            // Handle batch zoom (multiple axes)\n            params.batch.forEach((batchItem: any) => {\n              if (batchItem.dataZoomId?.includes('y')) {\n                zoomSelectionEvent.yAxis = {\n                  startValue: batchItem.startValue,\n                  endValue: batchItem.endValue,\n                };\n              } else {\n                zoomSelectionEvent.xAxis = {\n                  startValue: batchItem.startValue,\n                  endValue: batchItem.endValue,\n                };\n              }\n            });\n            callback(zoomSelectionEvent);\n          }\n        };\n\n        // Store the wrapper function so we can remove it later\n        activeHandlers.current.set(handlerKey, zoomHandler);\n        echartsInstance.on('datazoom', zoomHandler);\n        break;\n      }\n\n      default: {\n        activeHandlers.current.set(handlerKey, callback);\n        options?.useCanvasAsTrigger\n          ? echartsInstance.getZr().on(action, callback)\n          : echartsInstance.on(action, callback as (...args: any) => void);\n      }\n    }\n  }, []);\n\n  const showTooltip: EChartsInstance['showTooltip'] = useCallback((x, y) => {\n    const echartsInstance = echartsInstanceRef.current;\n\n    if (!echartsInstance) {\n      return;\n    }\n\n    echartsInstance.dispatchAction({\n      type: 'showTip',\n      x,\n      y,\n    });\n  }, []);\n\n  const hideTooltip = useCallback(() => {\n    const echartsInstance = echartsInstanceRef.current;\n\n    if (!echartsInstance) {\n      return;\n    }\n\n    echartsInstance.dispatchAction({\n      type: 'hideTip',\n    });\n  }, []);\n\n  const resize = useCallback(() => {\n    const echartsInstance = echartsInstanceRef.current;\n\n    if (!echartsInstance) {\n      return;\n    }\n\n    echartsInstance.resize();\n  }, []);\n\n  /**\n   * CHART INITIALIZATION ---------------------\n   * Sets up the echart instance on initial render or if the container changes.\n   * Additionally, disposes of echart instance and cleans up handlers on unmount.\n   */\n  useEffect(() => {\n    const activeHandlersMap = activeHandlers.current;\n\n    setError(null);\n\n    const echartsInstance = echartsInstanceRef.current;\n    const doesInstanceMatchContainer = echartsInstance\n      ? echartsInstance.getDom() === container\n      : false;\n    const isInstanceDisposed = echartsInstance\n      ? echartsInstance.isDisposed()\n      : false;\n\n    if (!container || (doesInstanceMatchContainer && !isInstanceDisposed)) {\n      return;\n    }\n\n    initializeEcharts()\n      .then(echartsCore => {\n        echartsCoreRef.current = echartsCore;\n\n        // Init an echart instance\n        const newChart = echartsCoreRef.current.init(container, null, {\n          devicePixelRatio: window.devicePixelRatio || 1,\n          renderer: 'canvas',\n        });\n\n        // Set the initial options on the instance\n        newChart.setOption(initialOptionsRef.current || {});\n\n        // Set the echarts instance ref\n        echartsInstanceRef.current = newChart;\n\n        setReady(true);\n      })\n      .catch(err => {\n        setReady(false);\n        console.error(err);\n        setError(\n          err instanceof Error\n            ? err\n            : new Error('Failed to initialize ECharts'),\n        );\n      });\n\n    return () => {\n      if (\n        !echartsInstance ||\n        isInstanceDisposed ||\n        !doesInstanceMatchContainer\n      ) {\n        return;\n      }\n\n      activeHandlersMap.clear();\n      echartsInstance.dispose();\n      echartsInstanceRef.current = null;\n    };\n  }, [container]);\n\n  /**\n   * SETTING THEME ---------------------\n   * Sets the theme when the instance is created or the theme changes.\n   * This is not actually necessary on initial render because the theme\n   * is also set on the default options. This is primarily necessary\n   * for updating the theme if the theme changes.\n   */\n  useEffect(() => {\n    if (!ready) {\n      return;\n    }\n\n    const echartsInstance = echartsInstanceRef.current;\n\n    if (!echartsInstance) {\n      return;\n    }\n\n    setOptions(prevOptions => {\n      const updatedOptions = {\n        ...prevOptions,\n        color: colors[theme],\n      };\n      return updatedOptions;\n    });\n  }, [ready, theme]);\n\n  /**\n   * UPDATING OPTIONS ---------------------\n   * Sets the options on the instance when the options meaningfully change.\n   *\n   * The `notMerge` option set to true means that all of the current echarts\n   * components will be removed and new components will be created according\n   * to the new options object.\n   *\n   * API docs: https://echarts.apache.org/en/api.html#echartsInstance.setOption\n   */\n  useEffect(() => {\n    const echartsInstance = echartsInstanceRef.current;\n\n    if (!echartsInstance) {\n      return;\n    }\n\n    if (isEqual(options, previousOptions)) {\n      return;\n    }\n\n    echartsInstance.setOption(options, {\n      notMerge: true,\n    });\n\n    if (shouldEnableZoom) {\n      enableZoom();\n    }\n  }, [enableZoom, options, previousOptions, shouldEnableZoom]);\n\n  return {\n    _getEChartsInstance: () => echartsInstanceRef.current,\n    _getOptions: () => options,\n    addSeries,\n    addToGroup,\n    enableZoom,\n    error,\n    hideTooltip,\n    off,\n    on,\n    ready,\n    removeFromGroup,\n    removeSeries,\n    resize,\n    setupZoomSelect,\n    showTooltip,\n    updateOptions,\n  };\n}\n","import { TooltipOption } from 'echarts/types/dist/shared';\n\nexport const CHART_TOOLTIP_CLASSNAME = 'lg-chart-tooltip';\n\n// Adds vertical dashed line on hover, even when no tooltip is shown\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  tooltip: {\n    axisPointer: {\n      z: 0, // Prevents dashed emphasis line from being rendered on top of mark lines and labels\n    },\n    show: true,\n    trigger: 'axis',\n    formatter: () => '',\n  } as TooltipOption,\n};\n","import { colors as chartColors } from '@lg-charts/colors';\n\nimport { Theme } from '@leafygreen-ui/lib';\nimport { palette } from '@leafygreen-ui/palette';\nimport {\n  color,\n  InteractionState,\n  spacing,\n  Variant,\n} from '@leafygreen-ui/tokens';\n\nimport { DEFAULT_TOOLTIP_OPTIONS } from '../../constants';\nimport { ChartOptions } from '../Chart.types';\n\nconst commonAxisOptions = {\n  /**\n   * Axes need to be hidden explicitly to prevent error when rendering chart without Axis\n   */\n  splitLine: {\n    show: false,\n  },\n  axisLine: {\n    show: false,\n  },\n  axisLabel: {\n    show: false,\n  },\n  axisTick: {\n    show: false,\n  },\n};\n\n/**\n * Returns default chart options that are shared by all charts.\n */\nexport const getDefaultChartOptions = (\n  theme: Theme,\n): Partial<ChartOptions> => ({\n  aria: {\n    show: true,\n  },\n  animation: false, // Disabled by default to optimize performance\n\n  title: {\n    show: false, // Title is rendered in custom header instead\n  },\n\n  color: chartColors[theme],\n\n  /**\n   * Though there's a ChartGrid component that will render the grid lines, this allows the box\n   * that contains the chart to to show with proper dimensions by default.\n   */\n  grid: {\n    /**\n     * Spacing added here instead of in CSS because the grid is rendered in a canvas.\n     * Adding the spacing in the canvas assures that the labels and borders are not cutoff.\n     */\n    left: spacing[300],\n    right: spacing[400],\n    top: spacing[300],\n    bottom: spacing[400],\n    borderColor:\n      color[theme].border[Variant.Secondary][InteractionState.Default],\n    borderWidth: 1,\n    containLabel: true,\n  },\n\n  xAxis: {\n    type: 'time',\n    ...commonAxisOptions,\n  },\n\n  yAxis: {\n    type: 'value',\n    ...commonAxisOptions,\n  },\n\n  // Sets up zooming\n  toolbox: {\n    feature: {\n      dataZoom: {\n        show: true,\n        icon: {\n          zoom: 'path://', // hack to remove zoom button\n          back: 'path://', // hack to remove restore button\n        },\n        brushStyle: {\n          color: palette.gray.light1,\n          opacity: 0.2,\n        },\n      },\n    },\n  },\n\n  ...DEFAULT_TOOLTIP_OPTIONS,\n});\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { useIdAllocator } from '@leafygreen-ui/hooks';\n\nimport { useEchart } from '../../Echart';\nimport { EChartEvents } from '../../Echart';\nimport { getDefaultChartOptions } from '../config';\n\nimport type { ChartHookProps, ChartInstance } from './useChart.types';\nimport { useTooltipVisibility } from './useTooltipVisibility';\n\nexport function useChart({\n  chartId,\n  enableGroupTooltipSync,\n  groupId,\n  onChartReady = () => {},\n  onZoomSelect,\n  state,\n  theme,\n  zoomSelect,\n}: ChartHookProps): ChartInstance {\n  const initialOptions = useMemo(() => getDefaultChartOptions(theme), [theme]);\n\n  /**\n   * It is necessary for `useEchart` to know when the container exists\n   * in order to instantiate the chart. Since this happens only on first render,\n   * we use a container element stored in state and a ref callback so that the\n   * element only gets populated after render.\n   */\n  const [container, setContainer] = useState<HTMLDivElement | null>(null);\n\n  const id = useIdAllocator({ id: chartId, prefix: 'lg-chart' });\n\n  const echart = useEchart({\n    container,\n    initialOptions,\n    shouldEnableZoom: zoomSelect?.xAxis || zoomSelect?.yAxis,\n    theme,\n  });\n\n  const {\n    addToGroup,\n    enableZoom,\n    off,\n    on,\n    ready,\n    removeFromGroup,\n    resize,\n    setupZoomSelect,\n  } = echart;\n\n  useEffect(() => {\n    if (!ready) {\n      return;\n    }\n    onChartReady();\n  }, [ready, onChartReady]);\n\n  const { isChartHovered, setTooltipMounted, tooltipPinned, unpinTooltip } =\n    useTooltipVisibility({\n      chartId: id,\n      container,\n      echart,\n      groupId,\n    });\n\n  useEffect(() => {\n    if (!ready || !groupId || tooltipPinned) {\n      return;\n    }\n\n    addToGroup(groupId);\n\n    return () => {\n      removeFromGroup();\n    };\n  }, [ready, groupId, addToGroup, removeFromGroup, tooltipPinned]);\n\n  // SETUP AND ENABLE ZOOM\n  useEffect(() => {\n    if (!ready) {\n      return;\n    }\n\n    setupZoomSelect({\n      xAxis: zoomSelect?.xAxis,\n      yAxis: zoomSelect?.yAxis,\n    });\n\n    if (zoomSelect?.xAxis || zoomSelect?.yAxis) {\n      function enableZoomOnRender() {\n        enableZoom();\n        /**\n         * Enabling zoom triggers a render, so once we enable it, we want to\n         * remove the handler or else there will be an infinite loop of\n         * render -> enable -> render -> etc.\n         */\n        off('rendered', enableZoomOnRender);\n      }\n\n      on('rendered', enableZoomOnRender);\n    }\n  }, [enableZoom, off, on, ready, setupZoomSelect, zoomSelect]);\n\n  useEffect(() => {\n    if (!ready) {\n      return;\n    }\n    on(EChartEvents.ZoomSelect, zoomEventResponse => {\n      unpinTooltip();\n      onZoomSelect?.(zoomEventResponse);\n    });\n  }, [ready, onZoomSelect, on, unpinTooltip]);\n\n  const initialRenderRef = useRef(true);\n\n  const handleResize = useCallback(() => {\n    if (!ready) {\n      return;\n    }\n\n    // Skip the first resize event, as it's triggered by the initial render\n    if (initialRenderRef.current) {\n      initialRenderRef.current = false;\n      return;\n    }\n\n    resize();\n  }, [ready, resize]);\n\n  useEffect(() => {\n    if (!ready || !container) {\n      return;\n    }\n\n    const resizeObserver = new ResizeObserver(handleResize);\n    resizeObserver.observe(container);\n\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [container, ready, handleResize]);\n\n  return {\n    ...echart,\n    enableGroupTooltipSync: !!groupId && enableGroupTooltipSync,\n    id,\n    isChartHovered,\n    ref: setContainer,\n    setTooltipMounted,\n    state,\n    tooltipPinned,\n  };\n}\n","import { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { CHART_TOOLTIP_CLASSNAME } from '../../constants';\nimport { EChartEvents, EChartsInstance } from '../../Echart';\n\nimport { UseTooltipVisibilityReturnObj } from './useTooltipVisibility.types';\n\n/**\n * Hook to manage the visibility of the tooltip in the chart including pinning behavior.\n */\nexport const useTooltipVisibility = ({\n  chartId,\n  container,\n  echart,\n  groupId,\n}: {\n  chartId: string;\n  container: HTMLDivElement | null;\n  echart: EChartsInstance;\n  groupId?: string;\n}): UseTooltipVisibilityReturnObj => {\n  // if groupId is not provided, this state will always be true\n  const [isChartHovered, setIsChartHovered] = useState(!groupId);\n  const [pinnedPosition, setPinnedPosition] = useState([0, 0]);\n  const [tooltipMounted, setTooltipMounted] = useState(false);\n  const [tooltipPinned, setTooltipPinned] = useState(false);\n\n  const tooltipMountedRef = useRef(tooltipMounted);\n  const tooltipPinnedRef = useRef(tooltipPinned);\n\n  const {\n    addToGroup,\n    hideTooltip,\n    off,\n    on,\n    ready,\n    removeFromGroup,\n    showTooltip,\n  } = echart;\n\n  /**\n   * Event listener callback added to the chart that is called on `mouseenter`\n   * or `mouseleave` to set the `isChartHovered` state.\n   */\n  const toggleChartHover = useCallback((isMouseEnter: boolean) => {\n    setIsChartHovered(isMouseEnter);\n  }, []);\n\n  /**\n   * Event listener callback added to the chart that is called on mouse move\n   * to show the tooltip.\n   */\n  const showTooltipOnMouseMove = useCallback(\n    (params: any) => {\n      if (!tooltipMountedRef.current || tooltipPinnedRef.current) {\n        return;\n      }\n\n      const { offsetX, offsetY } = params;\n      showTooltip(offsetX, offsetY);\n    },\n    [showTooltip],\n  );\n\n  /**\n   * Callback to remove the chart from the group if it is grouped, record the `pinnedPosition`\n   * state, and set the `tooltipPinned` state to true.\n   *\n   * Separate effect is used to show tooltip and add the unpin event listener because\n   * the `ChartTooltip` instance must first react to the `tooltipPinned` state change.\n   */\n  const pinTooltip = useCallback(\n    (params: any) => {\n      /**\n       * When the tooltip is pinned, the chart is removed from the group to prevent\n       * event listeners of sibling charts from triggering the tooltip of current chart.\n       */\n      if (groupId) {\n        removeFromGroup();\n      }\n\n      /**\n       * Remove the mouse move event listener to prevent the tooltip from moving when it\n       * is pinned. User can unpin it by clicking the close button in the tooltip which\n       * will turn the listener back on.\n       */\n      off(EChartEvents.MouseMove, showTooltipOnMouseMove, {\n        useCanvasAsTrigger: true,\n      });\n\n      const { offsetX, offsetY } = params;\n      setPinnedPosition([offsetX, offsetY]);\n      setTooltipPinned(true);\n    },\n    [groupId, off, removeFromGroup, showTooltipOnMouseMove],\n  );\n\n  /**\n   * Callback to set the `tooltipPinned` state to false and add the chart back to the group.\n   * It also hides the tooltip after the state change has been applied.\n   */\n  const unpinTooltip = useCallback(() => {\n    /**\n     * When the tooltip is pinned, the chart is removed from the group to prevent\n     * event listeners of sibling charts from triggering the tooltip of current chart.\n     *\n     * When unpinning the tooltip, the chart is added back to the group.\n     */\n    if (groupId) {\n      addToGroup(groupId);\n    }\n\n    setTooltipPinned(false);\n\n    /**\n     * Use requestAnimationFrame to ensure that the tooltip is hidden after\n     * `ChartTooltip` has reacted to the `tooltipPinned` state change.\n     */\n    requestAnimationFrame(() => {\n      hideTooltip();\n    });\n  }, [addToGroup, groupId, hideTooltip]);\n\n  /**\n   * Helper method to add event listener to the close button in the tooltip.\n   *\n   * The echarts tooltip `formatter` cannot pass the `onClick` event to the button,\n   * so it has to be added manually.\n   */\n  const addUnpinCallbackToCloseButton = useCallback(() => {\n    const btn = document.querySelector(`button[data-chartid=\"${chartId}\"]`);\n\n    if (btn instanceof HTMLElement && !btn.dataset.bound) {\n      btn.addEventListener('click', unpinTooltip);\n      btn.dataset.bound = 'true'; // prevents duplicate listeners\n    }\n  }, [chartId, unpinTooltip]);\n\n  /**\n   * Event listener callback added to the chart. When called, it toggles the\n   * tooltip pinning.\n   */\n  const toggleTooltipPinning = useCallback(\n    (params: any) => {\n      if (!tooltipMountedRef.current) {\n        return;\n      }\n\n      if (tooltipPinnedRef.current) {\n        unpinTooltip();\n        return;\n      } else {\n        pinTooltip(params);\n        return;\n      }\n    },\n    [pinTooltip, unpinTooltip],\n  );\n\n  /**\n   * Event listener callback that is called when mousing over a mark point or line.\n   * It hides the tooltip and disables the chart click event listener.\n   */\n  const hideTooltipOnMouseOverMark = useCallback(\n    (params: any) => {\n      if (!tooltipMountedRef.current) {\n        return;\n      }\n\n      if (\n        params.componentType === 'markPoint' ||\n        params.componentType === 'markLine'\n      ) {\n        hideTooltip();\n        on(EChartEvents.MouseMove, hideTooltip);\n        off(EChartEvents.Click, toggleTooltipPinning, {\n          useCanvasAsTrigger: true,\n        });\n      }\n    },\n    [hideTooltip, off, on, toggleTooltipPinning],\n  );\n\n  /**\n   * Event listener callback that is called when mousing out of a mark point or line.\n   * It stops hiding the tooltip and re-enables the chart click event listener.\n   */\n  const stopHideTooltipOnMouseOutMark = useCallback(\n    (params: any) => {\n      if (!tooltipMountedRef.current) {\n        return;\n      }\n\n      if (\n        params.componentType === 'markPoint' ||\n        params.componentType === 'markLine'\n      ) {\n        off(EChartEvents.MouseMove, hideTooltip);\n        on(EChartEvents.Click, toggleTooltipPinning, {\n          useCanvasAsTrigger: true,\n        });\n      }\n    },\n    [hideTooltip, off, on, toggleTooltipPinning],\n  );\n\n  useEffect(() => {\n    tooltipMountedRef.current = tooltipMounted;\n  }, [tooltipMounted]);\n\n  useEffect(() => {\n    tooltipPinnedRef.current = tooltipPinned;\n  }, [tooltipPinned]);\n\n  /**\n   * Effect to add event listeners to the chart container to toggle the `isChartHovered`\n   * state on mouse enter and leave when the chart is grouped.\n   *\n   * When charts are grouped, the mousemove events are synced across all charts to render\n   * uniformly aligned axis pointers. `isChartHovered` state is used to determine if the\n   * tooltip content should also be displayed or not.\n   */\n  useEffect(() => {\n    if (!container || !groupId) {\n      return;\n    }\n\n    container.addEventListener('mouseenter', () => toggleChartHover(true));\n    container.addEventListener('mouseleave', () => toggleChartHover(false));\n\n    return () => {\n      container.removeEventListener('mouseenter', () => toggleChartHover(true));\n      container.removeEventListener('mouseleave', () =>\n        toggleChartHover(false),\n      );\n    };\n  }, [container, groupId, toggleChartHover]);\n\n  /**\n   * Effect to turn on the tooltip event listeners when the chart is ready and tooltip\n   * is not already pinned.\n   */\n  useEffect(() => {\n    if (!ready || tooltipPinned) {\n      return;\n    }\n\n    on(EChartEvents.MouseMove, showTooltipOnMouseMove, {\n      useCanvasAsTrigger: true,\n    });\n    on(EChartEvents.Click, toggleTooltipPinning, {\n      useCanvasAsTrigger: true,\n    });\n  }, [ready, tooltipPinned, on, showTooltipOnMouseMove, toggleTooltipPinning]);\n\n  /**\n   * Effect to add the event listeners to hide the tooltip when hovering a mark.\n   */\n  useEffect(() => {\n    if (!ready) {\n      return;\n    }\n\n    on(EChartEvents.MouseOver, hideTooltipOnMouseOverMark);\n    on(EChartEvents.MouseOut, stopHideTooltipOnMouseOutMark);\n  }, [ready, on, hideTooltipOnMouseOverMark, stopHideTooltipOnMouseOutMark]);\n\n  /**\n   * Effect to react to the `tooltipPinned` state and show the tooltip.\n   *\n   * `setTimeout` is used to defer execution of callbacks to show tooltip and add unpin\n   * callback until the next tick of the event loop at which point the echarts tooltip\n   * is rendered and in the DOM\n   */\n  useEffect(() => {\n    if (!tooltipPinnedRef.current) {\n      return;\n    }\n\n    const [x, y] = pinnedPosition;\n    setTimeout(() => {\n      showTooltip(x, y);\n      addUnpinCallbackToCloseButton();\n    });\n  }, [pinnedPosition, showTooltip, addUnpinCallbackToCloseButton]);\n\n  /**\n   * Effect to clean up any tooltip elements when the component is unmounted.\n   *\n   * This is specifically required for cases where the echarts instance is cleaned up\n   * before the `hideTooltip` action can be called on the instance.\n   */\n  useEffect(() => {\n    return () => {\n      const tooltipEls = document.getElementsByClassName(\n        CHART_TOOLTIP_CLASSNAME,\n      );\n      Array.from(tooltipEls).forEach(el => el.remove());\n    };\n  }, []);\n\n  return {\n    isChartHovered,\n    setTooltipMounted,\n    tooltipPinned,\n    unpinTooltip,\n  };\n};\n","/**\n * React wrapper for Apache Echarts.\n * https://echarts.apache.org/en/option.html#title\n *\n * Wraps the Echarts library and provides a React-friendly API. It adds default options\n * and styling according to our design system's specs.\n */\nimport React from 'react';\nimport { useSortable } from '@dnd-kit/sortable';\n\nimport { cx } from '@leafygreen-ui/emotion';\nimport LeafyGreenProvider, {\n  useDarkMode,\n} from '@leafygreen-ui/leafygreen-provider';\nimport { BaseFontSize } from '@leafygreen-ui/tokens';\nimport { Body } from '@leafygreen-ui/typography';\n\nimport { ChartProvider } from '../ChartContext';\n\nimport {\n  chartStyles,\n  chartWrapperStyles,\n  getChartContainerStyles,\n  getChartHeaderContainerStyles,\n  getLoadingOverlayStyles,\n  getLoadingTextStyles,\n} from './Chart.styles';\nimport { ChartProps, ChartStates } from './Chart.types';\nimport { useChart } from './hooks';\n\nexport function Chart({\n  children,\n  className,\n  darkMode: darkModeProp,\n  dragId = '',\n  enableGroupTooltipSync = true,\n  groupId,\n  id: idProp,\n  onChartReady,\n  onZoomSelect,\n  state = ChartStates.Unset,\n  zoomSelect,\n  ...rest\n}: ChartProps) {\n  const { theme } = useDarkMode(darkModeProp);\n  const chart = useChart({\n    chartId: idProp,\n    enableGroupTooltipSync,\n    groupId,\n    onChartReady,\n    onZoomSelect,\n    state,\n    theme,\n    zoomSelect,\n  });\n  const { attributes, listeners, setNodeRef, transform, transition, items } =\n    useSortable({ id: dragId });\n  const isDraggable = !!(items.length && dragId);\n\n  return (\n    <LeafyGreenProvider darkMode={darkModeProp}>\n      <ChartProvider chart={chart}>\n        <div\n          ref={isDraggable ? setNodeRef : null}\n          className={cx(\n            getChartContainerStyles({\n              theme,\n              transform,\n              transition,\n              isDraggable,\n              state,\n            }),\n            className,\n          )}\n        >\n          <div\n            className={getChartHeaderContainerStyles({\n              theme,\n              state,\n              isDraggable,\n            })}\n            data-testid=\"lg-charts-core-chart-header\"\n            {...attributes}\n            {...listeners}\n          >\n            {/**\n             * Children other than ChartHeader are not expected to be rendered to the DOM,\n             * but are used to provide a more declarative API for adding functionality\n             * to the chart canvas. They have access to the ChartContext and can be\n             * used to add components like Line, ChartGrid, etc.\n             */}\n            {children}\n          </div>\n          <div className={chartWrapperStyles}>\n            {state === ChartStates.Loading && (\n              <div className={getLoadingOverlayStyles(theme)}>\n                <Body\n                  className={getLoadingTextStyles(theme)}\n                  baseFontSize={BaseFontSize.Body2}\n                >\n                  Loading chart...\n                </Body>\n              </div>\n            )}\n            <div\n              ref={chart.ref}\n              className={chartStyles}\n              data-testid=\"lg-charts-core-chart-echart\"\n              id={chart.id}\n              {...rest}\n            />\n          </div>\n        </div>\n      </ChartProvider>\n    </LeafyGreenProvider>\n  );\n}\n\nChart.displayName = 'Chart';\n","import { useEffect } from 'react';\n\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\nimport { color, InteractionState, Variant } from '@leafygreen-ui/tokens';\n\nimport { ChartOptions } from '../Chart';\nimport { useChartContext } from '../ChartContext';\n\nimport { ChartGridProps } from './ChartGrid.types';\n\nconst unsetGridOptions = {\n  splitLine: {\n    show: false,\n  },\n};\n\nexport function ChartGrid({\n  horizontal = true,\n  vertical = true,\n}: ChartGridProps) {\n  const {\n    chart: { ready, updateOptions },\n  } = useChartContext();\n  const { theme } = useDarkMode();\n\n  useEffect(() => {\n    if (!ready) return;\n\n    const updatedOptions: Partial<ChartOptions> = {};\n    const getUpdatedLineOptions = (show: boolean) => ({\n      splitLine: {\n        show: show,\n        lineStyle: {\n          color:\n            color[theme].border[Variant.Secondary][InteractionState.Default],\n        },\n      },\n    });\n    updatedOptions.xAxis = {\n      ...getUpdatedLineOptions(!!vertical),\n    };\n    updatedOptions.yAxis = {\n      ...getUpdatedLineOptions(!!horizontal),\n    };\n    updateOptions(updatedOptions);\n\n    return () => {\n      /**\n       * Hides the grid lines when the component is unmounted.\n       */\n      updateOptions({\n        xAxis: unsetGridOptions,\n        yAxis: unsetGridOptions,\n      });\n    };\n  }, [horizontal, ready, theme, updateOptions, vertical]);\n\n  return null;\n}\n\nChartGrid.displayName = 'ChartGrid';\n","import { css, cx } from '@leafygreen-ui/emotion';\nimport { Theme } from '@leafygreen-ui/lib';\nimport {\n  color,\n  InteractionState,\n  spacing,\n  Variant,\n} from '@leafygreen-ui/tokens';\n\nexport const getContainerStyles = (theme: Theme, showDivider?: boolean) =>\n  cx(\n    css`\n      border-bottom: 1px solid\n        ${color[theme].border[Variant.Disabled][InteractionState.Default]};\n      display: grid;\n      grid-area: chartHeader; // grid-template-area defined by Chart component\n      grid-template-columns: auto 1fr;\n      height: 36px;\n      padding: ${spacing[100]}px ${spacing[300]}px;\n      width: 100%;\n    `,\n    {\n      [css`\n        border-top: 1px solid\n          ${color[theme].border[Variant.Disabled][InteractionState.Default]};\n      `]: showDivider,\n    },\n  );\n\nexport const titleStyles = css`\n  display: flex;\n  align-items: center;\n  gap: ${spacing[100]}px;\n`;\n","import React from 'react';\n\nimport { cx } from '@leafygreen-ui/emotion';\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\nimport { BaseFontSize } from '@leafygreen-ui/tokens';\nimport { Body } from '@leafygreen-ui/typography';\n\nimport { getContainerStyles, titleStyles } from './ChartHeader.styles';\nimport { ChartHeaderProps } from './ChartHeader.types';\n\nexport function ChartHeader({\n  title,\n  titleIcon,\n  showDivider,\n  headerContent,\n  className,\n  ...rest\n}: ChartHeaderProps) {\n  const { theme } = useDarkMode();\n  return (\n    <div\n      className={cx(getContainerStyles(theme, showDivider), className)}\n      {...rest}\n    >\n      <div className={titleStyles}>\n        <Body weight=\"regular\" baseFontSize={BaseFontSize.Body1}>\n          {title}\n        </Body>\n        {titleIcon && <div>{titleIcon}</div>}\n      </div>\n      <div>{headerContent}</div>\n    </div>\n  );\n}\n","import { Theme } from '@leafygreen-ui/lib';\nimport {\n  borderRadius,\n  color,\n  fontFamilies,\n  fontWeights,\n  InteractionState,\n  Variant,\n} from '@leafygreen-ui/tokens';\n\nconst TOOLTIP_WIDTH = 270;\n\nexport const getRootStylesText = (theme: Theme) => `\n  width: ${TOOLTIP_WIDTH}px;\n  overflow: hidden;\n  background-color: ${\n    color[theme].background[Variant.InversePrimary][InteractionState.Default]\n  };\n  color: ${color[theme].text[Variant.InversePrimary][InteractionState.Default]};\n  border-radius: ${borderRadius[150]}px;\n  font-family: ${fontFamilies.default};\n  font-size: 12px;\n  line-height: 20px;\n  font-weight: ${fontWeights.regular};\n`;\n","import { css } from '@leafygreen-ui/emotion';\nimport { Theme } from '@leafygreen-ui/lib';\nimport {\n  color,\n  InteractionState,\n  spacing,\n  Variant,\n} from '@leafygreen-ui/tokens';\n\nconst CLOSE_BUTTON_SIZE = 16;\n\nexport const getHeaderStyles = (theme: Theme) => css`\n  color: ${color[theme].text[Variant.InverseSecondary][\n    InteractionState.Default\n  ]};\n  margin-bottom: ${spacing[100]}px;\n  padding: ${spacing[150]}px ${spacing[150]}px 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nexport const closeButtonStyles = css`\n  height: ${CLOSE_BUTTON_SIZE}px;\n  width: ${CLOSE_BUTTON_SIZE}px;\n`;\n\nexport const pinTooltipNoteStyles = css`\n  display: flex;\n  align-items: center;\n  gap: ${spacing[50]}px;\n`;\n","import { css } from '@leafygreen-ui/emotion';\nimport { spacing } from '@leafygreen-ui/tokens';\n\nimport { SeriesListItemColorDotProps } from './SeriesListItemColorDot.types';\n\nexport const getColorDotStyle = (\n  color: SeriesListItemColorDotProps['color'],\n) => css`\n  display: inline-block;\n  margin-top: ${spacing[100]}px; // Bumping down slightly to align with text\n  margin-right: ${spacing[100]}px;\n  border-radius: 50%;\n  width: 10px;\n  height: 10px;\n  background-color: ${color};\n`;\n","import { css } from '@leafygreen-ui/emotion';\nimport { fontFamilies, fontWeights, spacing } from '@leafygreen-ui/tokens';\n\nexport const containerStyle = css`\n  display: grid;\n  grid-template-columns: 1fr auto;\n  gap: ${spacing[500]}px;\n`;\n\nexport const nameStyle = css`\n  display: grid;\n  grid-template-columns: auto 1fr;\n  text-align: left;\n  overflow: hidden;\n`;\n\nexport const valueStyle = css`\n  text-align: right;\n  font-family: ${fontFamilies.default};\n  font-weight: ${fontWeights.semiBold};\n`;\n","import React from 'react';\n\nimport { getColorDotStyle } from './SeriesListItemColorDot.styles';\nimport { SeriesListItemColorDotProps } from './SeriesListItemColorDot.types';\n\nexport function SeriesListItemColorDot({ color }: SeriesListItemColorDotProps) {\n  return <span className={getColorDotStyle(color)}></span>;\n}\n","import { css } from '@leafygreen-ui/emotion';\nimport { Theme } from '@leafygreen-ui/lib';\nimport {\n  color,\n  InteractionState,\n  spacing,\n  Variant,\n} from '@leafygreen-ui/tokens';\n\nconst PINNED_SERIES_LIST_MAX_HEIGHT = 102;\n\nexport const getSeriesListStyles = ({\n  theme,\n  tooltipPinned,\n}: {\n  theme: Theme;\n  tooltipPinned: boolean;\n}) => css`\n  all: unset;\n  background-color: ${color[theme].background[Variant.InversePrimary][\n    InteractionState.Default\n  ]};\n  overflow-y: auto;\n  max-height: ${tooltipPinned ? `${PINNED_SERIES_LIST_MAX_HEIGHT}px` : 'none'};\n  padding: 0 ${spacing[150]}px ${spacing[150]}px;\n  display: grid;\n  gap: ${spacing[100]}px;\n`;\n","import React, { ReactNode } from 'react';\n\nimport { SeriesListItemColorDot } from '../SeriesListItemColorDot';\n\nimport { containerStyle, nameStyle, valueStyle } from './SeriesListItem.styles';\nimport { SeriesListItemProps } from './SeriesListItem.types';\n\nexport const SeriesListItem = ({\n  seriesName,\n  data,\n  color,\n  seriesNameFormatter,\n  seriesValueFormatter,\n}: SeriesListItemProps) => {\n  let name: string | ReactNode = seriesName;\n\n  if (seriesName && seriesNameFormatter) {\n    name = seriesNameFormatter(seriesName);\n  }\n\n  let value: string | ReactNode = '';\n\n  if (seriesValueFormatter) {\n    value = seriesValueFormatter(data[1]);\n  } else {\n    // default value formatting\n    if (data[1] instanceof Date) {\n      value = data[1].toLocaleDateString();\n    } else {\n      value = data[1];\n    }\n  }\n\n  return (\n    <li className={containerStyle}>\n      <div className={nameStyle}>\n        <SeriesListItemColorDot color={color} />\n        {name}\n      </div>\n      <div className={valueStyle}>{value}</div>\n    </li>\n  );\n};\n","import React from 'react';\nimport { SeriesName } from '@lg-charts/series-provider';\n\nimport { OptionDataValue } from '../../ChartTooltip.types';\nimport { SeriesListItem } from '../SeriesListItem';\n\nimport { getSeriesListStyles } from './SeriesList.styles';\nimport { SeriesListProps } from './SeriesList.types';\n\nfunction descendingCompareFn(valueA: OptionDataValue, valueB: OptionDataValue) {\n  if (valueA < valueB) {\n    return 1;\n  }\n\n  if (valueA > valueB) {\n    return -1;\n  }\n\n  return 0;\n}\n\nexport function SeriesList({\n  seriesData,\n  seriesValueFormatter,\n  seriesNameFormatter,\n  sort,\n  theme,\n  tooltipPinned,\n  ...rest\n}: SeriesListProps) {\n  return (\n    <ul className={getSeriesListStyles({ theme, tooltipPinned })} {...rest}>\n      {seriesData\n        .sort((a, b) => {\n          const [nameA, valueA] = a.data;\n          const [nameB, valueB] = b.data;\n\n          if (sort) {\n            return sort(\n              { name: nameA as SeriesName, value: valueA },\n              { name: nameB as SeriesName, value: valueB },\n            );\n          }\n\n          return descendingCompareFn(valueA, valueB);\n        })\n        .map(({ seriesName, data, color }) => (\n          <SeriesListItem\n            key={seriesName}\n            seriesName={seriesName}\n            data={data}\n            color={color}\n            seriesValueFormatter={seriesValueFormatter}\n            seriesNameFormatter={seriesNameFormatter}\n          />\n        ))}\n    </ul>\n  );\n}\n","import React, { ReactNode } from 'react';\n\nimport CursorIcon from '@leafygreen-ui/icon/dist/Cursor';\nimport XIcon from '@leafygreen-ui/icon/dist/X';\nimport IconButton from '@leafygreen-ui/icon-button';\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\n\nimport {\n  closeButtonStyles,\n  getHeaderStyles,\n  pinTooltipNoteStyles,\n} from './CustomTooltip.styles';\nimport { CustomTooltipProps } from './CustomTooltip.types';\nimport { SeriesList } from './SeriesList';\n\nfunction formatDate(dateTimeStamp: number) {\n  const date = new Date(dateTimeStamp);\n\n  return (\n    date.toLocaleString('en-US', {\n      timeZone: 'UTC',\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric',\n      hour: 'numeric',\n      minute: '2-digit',\n      second: '2-digit',\n      hour12: true,\n    }) + ' (UTC)'\n  );\n}\n\nexport function CustomTooltip({\n  chartId,\n  darkMode,\n  headerFormatter,\n  seriesData,\n  seriesNameFormatter,\n  seriesValueFormatter,\n  sort,\n  tooltipPinned,\n}: CustomTooltipProps) {\n  const { theme } = useDarkMode(darkMode);\n\n  if (seriesData.length === 0 || !seriesData[0].data[0]) {\n    return null;\n  }\n\n  let axisValueLabel: ReactNode;\n\n  if (headerFormatter) {\n    axisValueLabel = headerFormatter(\n      seriesData[0].axisType === 'xAxis.time'\n        ? (seriesData[0].axisValue as number) // Should be num since axisType is time\n        : seriesData[0].axisValueLabel,\n    );\n  } else {\n    axisValueLabel =\n      seriesData[0].axisType === 'xAxis.time'\n        ? formatDate(seriesData[0].axisValue as number) // Should be num since axisType is time\n        : seriesData[0].axisValueLabel;\n  }\n\n  return (\n    <>\n      <div className={getHeaderStyles(theme)}>\n        <span>{axisValueLabel}</span>\n        {tooltipPinned ? (\n          <IconButton\n            data-chartid={chartId}\n            aria-label=\"Unpin tooltip\"\n            className={closeButtonStyles}\n            darkMode={!darkMode}\n          >\n            <XIcon size=\"small\" />\n          </IconButton>\n        ) : (\n          <div className={pinTooltipNoteStyles}>\n            <CursorIcon size={11} />\n            <span>Click to Pin</span>\n          </div>\n        )}\n      </div>\n      <SeriesList\n        data-chartid={chartId}\n        seriesData={seriesData}\n        seriesValueFormatter={seriesValueFormatter}\n        seriesNameFormatter={seriesNameFormatter}\n        sort={sort}\n        theme={theme}\n        tooltipPinned={tooltipPinned}\n      />\n    </>\n  );\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { renderToString } from 'react-dom/server';\n\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\n\nimport { useChartContext } from '../ChartContext';\nimport { CHART_TOOLTIP_CLASSNAME, DEFAULT_TOOLTIP_OPTIONS } from '../constants';\n\nimport { getRootStylesText } from './ChartTooltip.styles';\nimport {\n  CallbackSeriesDataPoint,\n  ChartTooltipProps,\n} from './ChartTooltip.types';\nimport { CustomTooltip } from './CustomTooltip';\n\nexport function ChartTooltip({\n  headerFormatter,\n  seriesValueFormatter,\n  seriesNameFormatter,\n  sort,\n}: ChartTooltipProps) {\n  const {\n    chart: {\n      enableGroupTooltipSync,\n      id: chartId,\n      isChartHovered,\n      ready,\n      setTooltipMounted,\n      tooltipPinned,\n      updateOptions,\n    },\n  } = useChartContext();\n  const { darkMode, theme } = useDarkMode();\n\n  const formatTooltip = useCallback(\n    (seriesData: Array<CallbackSeriesDataPoint>) => {\n      return renderToString(\n        <CustomTooltip\n          chartId={chartId}\n          darkMode={darkMode}\n          headerFormatter={headerFormatter}\n          seriesData={seriesData}\n          seriesNameFormatter={seriesNameFormatter}\n          seriesValueFormatter={seriesValueFormatter}\n          sort={sort}\n          tooltipPinned={tooltipPinned}\n        />,\n      );\n    },\n    [\n      chartId,\n      darkMode,\n      headerFormatter,\n      seriesNameFormatter,\n      seriesValueFormatter,\n      sort,\n      tooltipPinned,\n    ],\n  );\n\n  const formatPinnedTooltip = useCallback(\n    (seriesData: Array<CallbackSeriesDataPoint>) => {\n      /**\n       * 1. Get the scrollable list in pinned tooltip before `renderToString` is called\n       * to preserve the scroll position.\n       */\n      const scrollEl = document.querySelector(`ul[data-chartid=\"${chartId}\"]`);\n      const scrollTop = scrollEl ? scrollEl.scrollTop : 0;\n\n      /**\n       * 2. Render the new custom tooltip HTML. Doing this will always reset the scroll\n       * position of the scrollable list, so we need to restore it after rendering.\n       */\n      const html = formatTooltip(seriesData);\n\n      /**\n       * 3. After render, re-apply stored scroll position to the scrollable list\n       */\n      requestAnimationFrame(() => {\n        const newScrollEl = document.querySelector(\n          `ul[data-chartid=\"${chartId}\"]`,\n        );\n\n        if (newScrollEl) {\n          newScrollEl.scrollTop = scrollTop;\n        }\n      });\n\n      return html;\n    },\n    [chartId, formatTooltip],\n  );\n\n  useEffect(() => {\n    setTooltipMounted(true);\n\n    return () => {\n      setTooltipMounted(false);\n    };\n  }, [setTooltipMounted]);\n\n  useEffect(() => {\n    if (!ready) return;\n\n    updateOptions({\n      tooltip: {\n        /* LOGIC PROPERTIES */\n        alwaysShowContent: enableGroupTooltipSync || tooltipPinned,\n        confine: true,\n        enterable: tooltipPinned,\n        renderMode: 'html',\n        showContent: enableGroupTooltipSync || isChartHovered || tooltipPinned,\n        trigger: 'axis',\n        triggerOn: 'none',\n\n        /* STYLING PROPERTIES */\n        /**\n         * using `extraCssText` instead of `className` because emotion-defined class\n         * didn't have high-enough specificity\n         */\n        className: CHART_TOOLTIP_CLASSNAME,\n        extraCssText: getRootStylesText(theme),\n        borderWidth: 0,\n        padding: 0,\n        showDelay: 0,\n        hideDelay: 0,\n        transitionDuration: 0,\n        /**\n         * Since the formatter trigger is set to 'axis', the seriesData will be\n         * an array of objects. Additionally, it should contain axis related\n         * data.\n         * See https://echarts.apache.org/en/option.html#tooltip.formatter\n         * for more info.\n         */\n        formatter: tooltipPinned ? formatPinnedTooltip : formatTooltip,\n      },\n    });\n\n    return () => {\n      updateOptions({ ...DEFAULT_TOOLTIP_OPTIONS });\n    };\n  }, [\n    enableGroupTooltipSync,\n    formatPinnedTooltip,\n    formatTooltip,\n    isChartHovered,\n    ready,\n    theme,\n    tooltipPinned,\n    updateOptions,\n  ]);\n\n  return null;\n}\n","import type { Theme } from '@leafygreen-ui/lib';\n\nexport const EventLevel = {\n  Warning: 'warning',\n  Info: 'info',\n} as const;\nexport type EventLevel = (typeof EventLevel)[keyof typeof EventLevel];\n\ninterface BaseEventMarkerProps {\n  label?: string;\n  message: string;\n  level: EventLevel;\n  position: [string | number, string | number] | string | number;\n  type: 'line' | 'point';\n}\n\nexport interface BaseEventMarkerLineProps extends BaseEventMarkerProps {\n  type: 'line';\n  position: string | number;\n}\n\nexport interface BaseEventMarkerPointProps extends BaseEventMarkerProps {\n  type: 'point';\n  position: [string | number, string | number];\n}\n\nexport interface GetMarkConfigProps extends BaseEventMarkerProps {\n  name: string;\n  theme: Theme;\n}\n","import { Theme } from '@leafygreen-ui/lib';\nimport {\n  borderRadius,\n  color,\n  fontFamilies,\n  fontWeights,\n  InteractionState,\n  spacing,\n  Variant,\n} from '@leafygreen-ui/tokens';\n\nimport { SeriesOption } from '../../Chart';\n\nimport { EventLevel, GetMarkConfigProps } from './BaseEventMarker.types';\n\nconst dataUriMap: Record<Theme, Record<EventLevel, string>> = {\n  [Theme.Dark]: {\n    info: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATESURBVHgBxVddTJtVGH7PV+haWkcn8S9ZoRAQsi1alswLooGpF85E0yVbpt6MxVsNeKXeKCNeaGIicyYmJmblQiOBxGaLk4upEJd5wQU1CuEvUMYMm5PRzZb+QHt2nkO/9mu/09F2S/YkTb/vPd857znvz/O+h1GJ6PL5XCmy+cRjJ+Pcy0nzEHHX9igLM0qHOLEgMRq3UDwwFgiES1mX7fRBl+8NTzrNezjTunMKS4Lfwuj0WOCHEFWyAZw4nbZ/zBnv1WW3I1FaC9+hcCRCieQmbaVSUl5lsZDDbiOn3U51rt1U63TkFHA2oGmx08UswtTKxak5/caJPHi/cWudrq7+S/FkkkqBzWql+qcepyce3aOLQsIah1XWMG2gw/eWt4qnf4TyuDjl9OIyRWMxqgTYyDMtTbTLWi03kWLa0SuB74NFN2A8+Y21dVr8ZzVr5koB9zzdsJfqanfLTRRaguWUC59z2ySUr92+I0/+IIFNZFwiNhFv12OiSv8gE3DS7HPL14ou5HTU0JHODmr2uOnJx+qkbCG0QgvLKzQ5NUfXb/6nnLd4bZVcTifc4YEuIXoPcmkBmD7FaQnPE1OzRYPt1PHX6NirL5OzpkY5HtnYoJGLl+jc8AXlODLlYFuLfBauaIQrLHhxtx74Qvx5Ee34qU799Scf0osdz5G1ujpP4S2RlhgHMObd10ovHGqnX/+YoOTmZt46m1tbZNtllelKnLPl2alR1uXrdqV4fP1ep//2s4+kyY24fnONTrzzgXz+6dwZk1Xglrff7zethcw4tL+VwJ4WFmvUUhQHvUqSUSmH2QuVS6vU2HOWiJrTFHNOHX/dJIcO6AKrgtqriFMnBhD5hUCQwecqwOxDX30q/u1FY+LYkZdoWMREJLqRJ4euDFt2aoyYV55iw3yKdmEq1eIwv3/kAo2OX6HLE0EqBj1jChH+Pyr/BU0L0svQbTQWN33Y3FCvXDg4PUu/T0xKP29/51a6SY4p5ImMq6Fb0yucivGaPXuVi74iTvXuyRPZd2RDMehcYUROF3dp9JChIR3wAM4uBHx9v1gImVk1p4uFRRBSCI/IT/PkFbpfzIeummR6CkO3JkLxT7zUPuIwffiziHKVfyEzbg51QGUtpF9wes4kByUDovYENRGJY3jJlEvTAiMXfzHJkXpnB4ey72f9QzIzCjEs5qqKk0HXeIaKE0uIyHKoeCfsTMUoSPE92ljAH2aMBiFAG6VCT//nZcUDvsUcFbI6GPnRE8hwbGw7MCNc0YsqBZpE1TICVe38pXE5q6XRnVcRjUBsfBcYpf4vvzFVQgCnR2MCiHJ8NDTzdzjbET3ve3NA9Ps9cMHkzELRVgzEgpLb4smxHwJwXpwa1FzI+zqQegfbmkVDYhWVmJ+5fH6od9sQGSAW0jwuWzL0BPfqiirBvqYGQ1+Ya8myTIhYEKRwGLmJ3g0TVORULrabUndBU5q7I+zQlifpr/mlku8DhXCImNrfVC/NTqW05Toe6sUkt4lu1xYl+hCYukxezUSWoHSjfzBezdDrocmAqY1XMwRclZboK+tqlr8R0TET9YnifZJKhrgts/Sg4PmBii+n5o1kr+ddoot6lnO4x3A9ZySu5xz+Let6fhfk1VEC+YDPBgAAAABJRU5ErkJggg==',\n    warning:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAROSURBVHgBxVfNTxtHFH8zXrANBDYF8dFQsrghImkFTk9VVQmnl17dW9pL+Q/snnoEbr2VHnsCLlV6qtVbL60jVVVPDfQzaivikEQoUQgLMfgDeyfzG3vXi+NlJyRSftLC7Hh23se89+b3GGkilU6bdYql5XCOCZEUxC0iYTZ+ZTYjpyCIrROjGxEq5/K5nK2zLwtbkEpfsxxHZATj8y2BWliNMFrK564X6DQKwGLHiS8IJrLu3F7xgHbsfbKLRapUj6hWr6t5IxKh3niM+uJxGjT7aaCvtyVAsGXOS0tBHmGdhUurBf0kiCy8P3i8S1vbD6lcrZIOYt3dNDE2TCOvnXWnCtIbVzt54xkF3kt/kjSE8x2El6WVf2/eoYNSiU4DKDIzlaBod5dSos74R7/kvlkPVMBv+YOdXdq8v+25+bTA8Vw8P06DA/1KiXZPsJZweeYidhPCd/b2leUvE1CieSRSifIVNya4u0AFXNPt/965p7Xpl5cnaGV2Umvt5r1tFbgSFmS58xH8Ua4nuo7xzVv/U7VWC91wfnyIvpgep2R/D+0dOfSrXTxxvSOEyp6xoUH4/d3EpbfXCrf+tJUH6oKURoh2nUg3uwxauPi6946x2RUJ/e6gVFYylEJOI70jqfS8KaimrP9nc0sr6D5/c5TSo16KUSzCqSKjN7/zJPRbKHFueEh6gU8nLl34mtepjPKqioyO9VZPlLKJESqUqjT54+/qsWt1ylgjWl6ADMhCVUVp5yRoDj8g8nWwMCXdbRhSgYr3rO8dKuELU+e09vDJmuOMWBKj4mF4sYH1CL4gZCdH1Jow2E8O1H9ZppPcLbc4mzDA+jCszISnZaV51JDN3RsuLPiQbidZ7yI1eEY+/SeuackSJidN6BYcQMdTLjjIBAao2UGA5fCAH6YRvD7MCy1ZzJZBSAUMcXMFwV90XEAheAUPBLZjZdYK3K+vJ94QL2VzGYobeBk409txMay34p0jG8UoyFJ8k7VGO/4G8gJIsrOOLMjjpXldHkN7yfUDhejsD7/JQrShClEnBJVon6wbPEKxHM4CNKr9GDLWcKD1/hiwjzpfXhCenTzuBchwKRvIK8/nVm3GaA0ToFF+JAc6H4u7+e0PZmj3wyuBSgJzbfHhyWC0Ck5gYCzr8bJ0YgaE4f7DR15R+uyvLdrYP6QXwerdR94Y1rs8UfpvqaFHE++nP16WfD+DywKc4EWpWDuQeu9MX5D8sJuEEF/9/P236jr2CpFB0UWkBbRMjI/RywYoWbQRYwWDVxbdeU8BxIIsClehBNx0OXH+xOKkiwYpfaONlLZ6hBBaXqU//rut3Q+0o1c2Km8lJjzLQ2m5i1famLSUmDdrVFlEYLpzqjWTZAJZAv7gb81i0UZ+w9X+1gwBhzN/rtbsuCLXLClmUV7en5I2ZLfMnDVZ55dP3Zw+q4jXnqcki5qVLNs61p4zku25wPk+V3v+FLqi4Iq8Yg11AAAAAElFTkSuQmCC',\n  },\n  [Theme.Light]: {\n    info: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAS6SURBVHgBxVfPUxxFFH49ULC7KJDgmgISloREkpAgYETzgwpzUOPFgvJqlR5zMnAxpbEEqmJpLrr+B8nBo8HyoClz2GDEqKWAWImibgIRSGkIAUp2lxQ77ft6d4fdmR6yS1KV7zIz3T39Xr/3+nvvCcoTkdHRyqJErIvIOCqFbCFL1pMQlWpSygUyxKSQYozIGkr6Ap+bra0L+ewr7iv4ypX6IiFOSCv5hi0wr43F2STRgHnw4OT667wE48Qr8T4pqSczVlleTlWbN1NFeQX5SkqouLhYja+urtJ/sRgtx5bpzvw8LSwtrQmQFE76/QNeFtEqgFMbJCP8Wo/vLcEghbZuI19pKeWDxMoKTU3/Tf/cvp0ZmrRImDpruBSIDA+3GIYYhHAI3Nu4mx4LBGgjgCLj166qp1KiqLjbbG8f81Qg++Rbgk9SQyhkm3mjgHsmrkeVa0hjCVsB+NxIxEchHH5ueqqRHiYmolF2yb8pJXz+1kxM2MdTAZc2e+OOBs+NYvE4Xf7hJ/bxLZpLnYrqams5Rqppz64d9AQrrwOsubi0CHfUF8XjfTzUi3FlgbTpb+C9vbXNM9gGv7pIFyKXWYmEdj7g99Exs4O6X35BO4+bMjL+i3pnV2yHKwx1eiJopKJdJxynPvVhmM5/eTFHeFnAR8GqTVnrEmrNqTNh9Y8TCGbIAAwp1fUWkUik0vCV3l3v9BB+c2Y2ZwyCP+p/W70ff+s9WnZYpW5rDb1/sse1F27Ej6MjsP2CVerfbhT5SrowAZLRCT/PZncKB5ZjawL9fr9r/ub0LA2yNZyAjAqWRZIUtReD2/FVpQkeBNnX7HMdYOLevg/U0ysmLlz6ll4yj3Bs5CqIQF0EWwrjKLuCEwvBn2WuDX7787rLtADMj0DreO4APdO8j7wA5b75/mfXeMXj5eopLauFLcBZjR2iY7up6Vntxrt3NrDgJr56Nel1M+ymW9q1OvfZrjYE3750htMx3tSMXgHwwKeffWF/BwJ+8sLcnXnXmC2L48CgRwxDFROU4mwngh6sVgjq0m7Khi2LryJbQEziPXHvnmthqLaaHhQhjQJgRAVLMhMKUtwInnai4/kDVMb06gQYMPtkodqaHEbMANdvzy53XkHhAgjDGDMEyUv4yCQW5wYvdna4xtv276PXXn3F/sY7boYTxzqP8J13K5ZOzZSUNJSi4tKSG7gNXlT87pmPVfYrBDD96fWomMFpeZNhmiaC8BwGUEbp8M6bx1W6LUQ4/tEhI0MIcRY1gbqGljDCeKKGswMkC3DF6ZO9iv3gfy9gDmtw8oAmdnD6TJ3I5h9QimQmh74bDrNaJ+CCtv3NnqXY3PxdpuiocgkYEMB1DW2rZmp+VisYwNUb+XVcKWFJ+sQ8dKgnR4F0WlYlGXJ2Y8NOepi4+sfEWl2YVZLZTIhYQMGIBTATftCRU6FQRWn0r9yiNKtHuG9Z3ry3Ke9+wAnE07WJ39fKckt2m4cPe5flthKPsjGxlUjxQz8CMzOWac1QOyB9Z7dmoHKwqbM1Q8BxydRfUGuWo0jKGv38+jrli1S3fM6SIrzh5tSlCDculEh0sTKdnMefVoVMdnvOSY3JZSzJ7TkV0J7/D7iAJAXxV4qDAAAAAElFTkSuQmCC',\n    warning:\n      'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQQSURBVHgBxVdLT1NBFD4zrbRFKURFI2poNKFGo4ILEzVR79rE6C/Qf4AL98DaDe50pwvdSjSuKyboRgU1EGssKdGQ8JCUAn0Qesf5pp2hLfe2wyPxS5o7M3d6z3POfIeRJRLj4x2BQu4OEb8hmOglV8SIsQ71UogMcZZmgk0QuaOlcOuI09eXsfkuayr448dYgLF+4ZbuG4FWH2bPSkRDzpUr6cb7/ATD4mJ+QAh6oNc6olE6dPAgtUfbKdzSQsFgUK1vbGzQai5Ha7k1+ru0RJlsdlOAoOFSJDLk5xFPBWA1J5GQwxjmRzs7qfvESQqHQmSDQrFIM39+09zCgl5Ku8QcL29sUSAxNtbLOXsF4RB4Nn6GDrS20k4ARb5NTaqnUiIQvOtcvjzhq0C15Uc7j9Dp7m7j5p0C4UlOp1RoyMMTRgHEnBfy4xCOOJ/ridNeIplKyZDMl5UIR/p0TnC9AQlHFbfHT522+ujio0c0PzBgtRferORQLJDPmz8pBeB6ne0Xzp6zcnv29WvKvHxZfr540XQ/vol8AgSjB5BpFAgQKY2Q7TaZ7q6s0NLTp2aOMdaaAckMGUqwEMpgnkgkOgSJ+5jgqNkAlm/MztYoZOOFGhmc7qm8C4Rb7mCOImNjPQRDWLCri2Jv36ofb2tTStl4ATLapSwSpEo7R23HC2S+DZaePFGC9kkFgpVfKB7fEpZGOKxlMX5DhkJeLBL7W/c3/SOsz7554/senqkOjR/a26LqKVy3V3pA3mpEVtUO1jfDnMWxNKHmTBa+yg3X7OgVk8mG1mvkP31Sv0YwsmQecLKEbcEBbHMB4IpMULlm+wHFBh6oRqOMb+YFI4tRRvqCpeWwt7C+Tgd8wuBlERRSXpEl1EsYcgFH1AvgDmUrRFrmAH3FeDm77LkZ1vtl9moiQbnPnz3f6XrhBRAXgHE+wRmJd5gslq/LGjQ62zj/p96/N4XIC34lunI1U0nQKC8V1keQB8uSRlWIg0F9ya1XTsNPAa8SDRmGsoXDI9xxHCThc8xBo6pRn3j1H0/fukXT1683LD75uhBpGYyxZ+AEKutcxoflcegHhzt+rMsUpc6HDynU00O7QfT2bTOG9ZonSvcPKUX0y9EPY8NSrX5UqUvnL+yaitUDR+/L929KCVfQY+fq1fJ1rDe4xfVB+UhjQ2omTXsN8EJNTikSGdTrRgHkAggjNsBNkz+TDYuTLRQpTf2qJaVVPUJTWg6KZtsP1AMFZyr5Y5OWu+Kuc+2aPy03SvzPxsQoIakaD7UMIjH1mm7NwB1wUqpbM5RyVNP61gwJh5hvqzWrUaTsjUE5vEe2KHfLz13BhnfcnG5RRBJIKhQkhxM35T1+URGZ6vZcXmqyuEyUZHtO22jP/wHqFDCi+Qr9/wAAAABJRU5ErkJggg==',\n  },\n};\n\n/**\n * PNG symbols gotten from designs. Custom Echarts symbols have to be image\n * URLs, data URIs, or vector paths.\n */\nconst generateSymbolDataUri = (level: EventLevel, theme: Theme) => {\n  return `image://${dataUriMap[theme][level]}`;\n};\n\nexport function getMarkConfig({\n  name,\n  theme,\n  label,\n  message,\n  level,\n  position,\n  type,\n}: GetMarkConfigProps): SeriesOption {\n  const labelConfig = {\n    borderRadius: borderRadius[200],\n    backgroundColor:\n      color[theme].background[Variant.InversePrimary][InteractionState.Default],\n    color: color[theme].text[Variant.InversePrimary][InteractionState.Default],\n    distance: type === 'line' ? [0, -spacing[1400]] : undefined,\n    fontFamily: fontFamilies.default,\n    fontSize: 12,\n    fontWeight: fontWeights.regular,\n    formatter: label\n      ? `{label|${label}}\\n{message|${message}}`\n      : `{message|${message}}`,\n    lineHeight: 15,\n    padding: spacing[150],\n    position: type === 'line' ? 'start' : 'bottom',\n    rich: {\n      label: {\n        color:\n          color[theme].text[Variant.InverseSecondary][InteractionState.Default],\n        align: 'left',\n      },\n      message: {\n        align: 'left',\n      },\n    },\n    show: false, // Needed so it only shows on hover (aka emphasis)\n  };\n\n  const commonConfig = {\n    animation: false,\n    name,\n    type: 'line', // Requires a type even though it's not an actual series\n  };\n\n  if (type === 'line') {\n    return {\n      ...commonConfig,\n      markLine: {\n        label: labelConfig,\n        data: [\n          {\n            name: name,\n            xAxis: position as string | number,\n          },\n        ],\n        emphasis: {\n          focus: 'series', // Allows other markers and series to be de-emphasized on this marker over\n          label: {\n            show: true,\n          },\n          lineStyle: {\n            width: 2,\n          },\n        },\n        lineStyle: {\n          color:\n            level === EventLevel.Warning\n              ? color[theme].icon[Variant.Error][InteractionState.Default]\n              : color[theme].icon[Variant.Secondary][InteractionState.Default],\n          type: 'solid',\n          width: 1,\n        },\n        symbol: [generateSymbolDataUri(level, theme), 'none'],\n        symbolSize: [16, 16],\n        symbolRotate: 360, // Icon shows upside down without this\n      },\n    } as SeriesOption;\n  } else {\n    return {\n      ...commonConfig,\n      markPoint: {\n        label: labelConfig,\n        data: [\n          {\n            name: name,\n            coord: position as [string | number, string | number],\n          },\n        ],\n        emphasis: {\n          focus: 'series', // Allows other markers and series to be de-emphasized on this marker over\n          label: {\n            show: true,\n          },\n        },\n        symbolSize: [16, 16],\n        symbol: generateSymbolDataUri(level, theme),\n      },\n    } as SeriesOption;\n  }\n}\n","import { useEffect } from 'react';\n\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\n\nimport { useChartContext } from '../../ChartContext';\n\nimport {\n  BaseEventMarkerLineProps,\n  BaseEventMarkerPointProps,\n  EventLevel,\n} from './BaseEventMarker.types';\nimport { getMarkConfig } from './utils';\n\nexport function BaseEventMarker({\n  position,\n  label,\n  message,\n  level = EventLevel.Warning,\n  type,\n}: BaseEventMarkerLineProps | BaseEventMarkerPointProps) {\n  const {\n    chart: { addSeries, ready, removeSeries },\n  } = useChartContext();\n  const { theme } = useDarkMode();\n\n  const name =\n    type === 'line'\n      ? `event-marker-${position}`\n      : `event-marker-${position[0]}-${position[1]}`;\n\n  useEffect(() => {\n    if (!ready) return;\n\n    /**\n     * Threshold lines/Points in Echarts are always attached to a series. In order\n     * to make this a separate component and not a prop on `Line`, we must add\n     * a dummy series with no data, and a mark line. This does not show up as a\n     * series in something like a ChartTooltip.\n     */\n    addSeries(\n      getMarkConfig({ name, theme, label, message, level, position, type }),\n    );\n\n    return () => {\n      removeSeries(name);\n    };\n  }, [\n    addSeries,\n    label,\n    level,\n    message,\n    name,\n    position,\n    ready,\n    removeSeries,\n    theme,\n    type,\n  ]);\n\n  return null;\n}\n","import React from 'react';\n\nimport { BaseEventMarker, EventLevel } from '../BaseEventMarker';\n\nimport { EventMarkerLineProps } from './EventMarkerLine.types';\n\nexport function EventMarkerLine({\n  position,\n  label,\n  message,\n  level = EventLevel.Warning,\n}: EventMarkerLineProps) {\n  return (\n    <BaseEventMarker\n      position={position}\n      label={label}\n      message={message}\n      level={level}\n      type=\"line\"\n    />\n  );\n}\n","import React from 'react';\n\nimport { BaseEventMarker, EventLevel } from '../BaseEventMarker';\n\nimport { EventMarkerPointProps } from './EventMarkerPoint.types';\n\nexport function EventMarkerPoint({\n  position,\n  label,\n  message,\n  level = EventLevel.Warning,\n}: EventMarkerPointProps) {\n  return (\n    <BaseEventMarker\n      position={position}\n      label={label}\n      message={message}\n      level={level}\n      type=\"point\"\n    />\n  );\n}\n","import { SeriesOption } from '../../Chart';\n\nexport const defaultLineOptions: Omit<SeriesOption, 'name' | 'data'> = {\n  type: 'line',\n  showSymbol: false,\n  symbol: 'circle',\n  clip: false,\n  symbolSize: 7,\n  emphasis: {\n    focus: 'series',\n  },\n  blur: {\n    lineStyle: {\n      opacity: 0.5,\n    },\n  },\n  lineStyle: {\n    width: 1,\n  },\n};\n","import { useEffect } from 'react';\nimport { useSeriesContext } from '@lg-charts/series-provider';\n\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\n\nimport { useChartContext } from '../ChartContext';\n\nimport { defaultLineOptions } from './config';\nimport { LineProps } from './Line.types';\n\nexport function Line({ name, data }: LineProps) {\n  const { theme } = useDarkMode();\n  const {\n    chart: { addSeries, ready, removeSeries },\n  } = useChartContext();\n  const { getColor, isChecked } = useSeriesContext();\n\n  const color = getColor(name, theme);\n  const isVisible = isChecked(name);\n\n  useEffect(() => {\n    if (!ready) return;\n\n    if (isVisible) {\n      addSeries({\n        ...defaultLineOptions,\n        name,\n        data,\n        lineStyle: {\n          ...defaultLineOptions.lineStyle,\n          color: color || undefined,\n        },\n        itemStyle: {\n          ...defaultLineOptions.itemStyle,\n          color: color || undefined,\n        },\n      });\n    } else {\n      removeSeries(name);\n    }\n\n    return () => {\n      /**\n       * Remove the series when the component unmounts to make sure the series\n       * is removed when a `Line` is hidden.\n       */\n      removeSeries(name);\n    };\n  }, [addSeries, color, data, isVisible, name, ready, removeSeries, theme]);\n\n  return null;\n}\n\nLine.displayName = 'Line';\n","import { useEffect } from 'react';\n\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\nimport {\n  borderRadius,\n  color,\n  fontFamilies,\n  fontWeights,\n  InteractionState,\n  spacing,\n  Variant,\n} from '@leafygreen-ui/tokens';\n\nimport { SeriesOption } from '../Chart';\nimport { useChartContext } from '../ChartContext';\n\nimport { svgSymbolPath } from './svgSymbolPath';\nimport {\n  GetThresholdLineConfig,\n  ThresholdLineProps,\n} from './ThresholdLine.types';\n\nfunction getThresholdLineConfig({\n  name,\n  position,\n  theme,\n  label,\n  value,\n}: GetThresholdLineConfig): SeriesOption {\n  return {\n    name,\n    type: 'line', // Requires a type even though it's not an actual series\n    markLine: {\n      data: [\n        {\n          name: name,\n          yAxis: position,\n          emphasis: {\n            label: {\n              show: true,\n            },\n            lineStyle: {\n              width: 1,\n            },\n          },\n        },\n      ],\n      label: {\n        borderRadius: borderRadius[200],\n        distance: spacing[300],\n        backgroundColor:\n          color[theme].background[Variant.InversePrimary][\n            InteractionState.Default\n          ],\n        color:\n          color[theme].text[Variant.InversePrimary][InteractionState.Default],\n        fontFamily: fontFamilies.default,\n        fontSize: 12,\n        fontWeight: fontWeights.regular,\n        formatter: label ? `{label|${label}:} ${value}` : value,\n        lineHeight: 20,\n        padding: spacing[150],\n        position: 'insideEnd',\n        rich: {\n          label: {\n            color:\n              color[theme].text[Variant.InverseSecondary][\n                InteractionState.Default\n              ],\n          },\n        },\n        show: false, // Needed so it only shows on hover (aka emphasis)\n      },\n      lineStyle: {\n        color: color[theme].icon[Variant.Error][InteractionState.Default],\n        type: 'dashed',\n        width: 1,\n      },\n      silent: false,\n      symbol: ['none', svgSymbolPath],\n      symbolOffset: [\n        // Allowed format. See https://echarts.apache.org/en/option.html#series-line.markLine.symbolOffset\n        // @ts-ignore Type '[number, number]' is not assignable to type 'string | number'.\n        [0, 0],\n        // @ts-ignore Type '[number, number]' is not assignable to type 'string | number'.\n        [-3, 0], // Needed to move array to be flesh with the last vertical line\n      ],\n      symbolSize: [7, 10],\n      symbolRotate: 360,\n    },\n  };\n}\n\nexport function ThresholdLine({ position, label, value }: ThresholdLineProps) {\n  const {\n    chart: { addSeries, ready, removeSeries },\n  } = useChartContext();\n  const { theme } = useDarkMode();\n\n  const name = `threshold-${position}`;\n\n  useEffect(() => {\n    if (!ready) return;\n\n    /**\n     * Threshold lines in Echarts are always attached to a series. In order\n     * to make this a separate component and not a prop on `Line`, we must add\n     * a dummy series with no data, and a mark line. This does not show up as a\n     * series in something like a ChartTooltip.\n     */\n    addSeries(getThresholdLineConfig({ name, position, theme, label, value }));\n\n    return () => {\n      removeSeries(name);\n    };\n  }, [addSeries, label, name, position, ready, removeSeries, theme, value]);\n\n  return null;\n}\n","/**\n * SVG carat symbol gotten from designs. Custom Echarts symbols have to be image\n * URLs, data URIs, or vector paths.\n */\nexport const svgSymbolPath =\n  'path://M1.00077 5.78632C0.491197 5.38594 0.491197 4.61406 1.00077 4.21368L5.38218 0.771144C6.03831 0.255614 7 0.723032 7 1.55746L7 8.44254C7 9.27697 6.03831 9.74438 5.38218 9.22885L1.00077 5.78632Z';\n","import { useEffect } from 'react';\n\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\nimport { Theme } from '@leafygreen-ui/lib';\nimport {\n  color,\n  fontFamilies,\n  fontWeights,\n  InteractionState,\n  spacing,\n  Variant,\n} from '@leafygreen-ui/tokens';\n\nimport { type ChartOptions } from '../Chart';\nimport { useChartContext } from '../ChartContext';\n\nimport { XAxisProps } from './XAxis.types';\n\nconst getOptions = ({\n  theme,\n  type,\n  label,\n  formatter,\n}: XAxisProps & { theme: Theme }): Partial<ChartOptions> => {\n  const options: Partial<ChartOptions> = {\n    xAxis: {\n      type: type,\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color:\n            color[theme].border[Variant.Secondary][InteractionState.Default],\n          width: 1,\n        },\n      },\n      axisLabel: {\n        show: true,\n        fontFamily: fontFamilies.default,\n        fontWeight: fontWeights.medium,\n        fontSize: 11,\n        lineHeight: spacing[400],\n        color: color[theme].text[Variant.Secondary][InteractionState.Default],\n        align: 'center',\n        margin: spacing[400],\n        formatter,\n      },\n      axisTick: {\n        show: false,\n      },\n      name: label,\n      nameLocation: 'middle',\n      nameTextStyle: {\n        fontFamily: fontFamilies.default,\n        fontWeight: fontWeights.medium,\n        fontSize: 11,\n        lineHeight: spacing[400],\n        padding: [spacing[200], 0, 0, 0],\n        color: color[theme].text[Variant.Secondary][InteractionState.Default],\n      },\n      nameGap: spacing[1000],\n    },\n  };\n\n  if (label) {\n    options.grid = {\n      bottom: spacing[1200], // Pushes out to make room for the label\n    };\n  } else {\n    options.grid = {\n      bottom: spacing[400], // Default bottom spacing\n    };\n  }\n\n  return options;\n};\n\nconst unsetAxisOptions = {\n  axisLine: {\n    show: false,\n  },\n  axisLabel: {\n    show: false,\n  },\n};\n\n/**\n * React component that can render an x-axis on a parent chart.\n *\n * This is done by updating the parent chart's canvas configuration received via context.\n *\n * ```\n * <Chart>\n *   <XAxis\n *     type=\"time\",\n *     label=\"My X-Axis Data\",\n *     formatter=\"{value}GB\"\n *   />\n * </Chart>\n */\nexport function XAxis({ type, label, formatter }: XAxisProps) {\n  const {\n    chart: { ready, updateOptions },\n  } = useChartContext();\n  const { theme } = useDarkMode();\n\n  useEffect(() => {\n    if (!ready) return;\n\n    updateOptions(getOptions({ type, label, formatter, theme }));\n\n    return () => {\n      /**\n       * Hides the axis when the component is unmounted.\n       */\n      updateOptions({\n        xAxis: { ...unsetAxisOptions },\n      });\n    };\n  }, [formatter, label, ready, theme, type, updateOptions]);\n\n  return null;\n}\n","import { useEffect } from 'react';\n\nimport { useDarkMode } from '@leafygreen-ui/leafygreen-provider';\nimport { Theme } from '@leafygreen-ui/lib';\nimport {\n  color,\n  fontFamilies,\n  fontWeights,\n  InteractionState,\n  spacing,\n  Variant,\n} from '@leafygreen-ui/tokens';\n\nimport { type ChartOptions } from '../Chart';\nimport { useChartContext } from '../ChartContext';\n\nimport { YAxisProps } from './YAxis.types';\n\nconst getOptions = ({\n  theme,\n  type,\n  label,\n  formatter,\n}: YAxisProps & { theme: Theme }): Partial<ChartOptions> => {\n  const options: Partial<ChartOptions> = {\n    yAxis: {\n      type: type,\n      axisLine: {\n        show: true,\n        lineStyle: {\n          color:\n            color[theme].border[Variant.Secondary][InteractionState.Default],\n          width: 1,\n        },\n      },\n      axisLabel: {\n        show: true,\n        fontFamily: fontFamilies.default,\n        fontWeight: fontWeights.medium,\n        fontSize: 11,\n        lineHeight: spacing[400],\n        color: color[theme].text[Variant.Secondary][InteractionState.Default],\n        align: 'right',\n        margin: spacing[200],\n        formatter,\n      },\n      axisTick: {\n        show: false,\n      },\n      name: label,\n      nameLocation: 'middle',\n      nameTextStyle: {\n        fontFamily: fontFamilies.default,\n        fontWeight: fontWeights.medium,\n        fontSize: 11,\n        padding: [0, 0, spacing[800], 0],\n        color: color[theme].text[Variant.Secondary][InteractionState.Default],\n      },\n      nameGap: spacing[900],\n    },\n  };\n\n  if (label) {\n    options.grid = {\n      left: spacing[1200],\n    };\n  } else {\n    options.grid = {\n      left: spacing[300], // Default left spacing\n    };\n  }\n\n  return options;\n};\n\nconst unsetAxisOptions = {\n  axisLine: {\n    show: false,\n  },\n  axisLabel: {\n    show: false,\n  },\n};\n\n/**\n * React component that can render an y-axis on a parent chart.\n *\n * This is done by updating the parent chart's canvas configuration received via context.\n *\n * ```\n * <Chart>\n *   <YAxis\n *     type=\"value\",\n *     label=\"My Y-Axis Data\",\n *     formatter=\"{value}GB\"\n *   />\n * </Chart>\n */\nexport function YAxis({ type, label, formatter }: YAxisProps) {\n  const {\n    chart: { ready, updateOptions },\n  } = useChartContext();\n  const { theme } = useDarkMode();\n\n  useEffect(() => {\n    if (!ready) return;\n\n    updateOptions(getOptions({ type, label, formatter, theme }));\n\n    return () => {\n      /**\n       * Hides the axis when the component is unmounted.\n       */\n      updateOptions({\n        yAxis: { ...unsetAxisOptions },\n      });\n    };\n  }, [formatter, label, ready, theme, type, updateOptions]);\n\n  return null;\n}\n"],"names":["_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject0","ChartContext","createContext","undefined","ChartProvider","_ref","children","chart","React","createElement","Provider","value","useChartContext","context","useContext","Error","ChartStates","Unset","Loading","Dragging","Overlay","chartWrapperClassName","createUniqueClassName","getChartContainerStyles","theme","transform","transition","isDraggable","state","cx","css","_taggedTemplateLiteral","color","background","Variant","Primary","InteractionState","Default","getBaseContainerStyles","_defineProperty","CSS","Transform","toString","getDraggableContainerStyles","border","Disabled","getOverlayContainerStyles","getChartHeaderContainerStyles","_ref2","Hover","baseChartWrapperStyles","chartWrapperStyles","chartStyles","getLoadingOverlayStyles","getLoadingTextStyles","text","Secondary","EChartEvents","initPromise","echartsCore","echartsCharts","echartsRenders","echartsComponents","_initializeEcharts","_asyncToGenerator","_regenerator","m","_callee2","w","_context2","n","a","_callee","_yield$Promise$all","_yield$Promise$all2","echartsCoreResolved","echartsChartsResolved","echartsRendersResolved","echartsComponentsResolved","_t","_context","p","Promise","all","import","v","_slicedToArray","use","LineChart","CanvasRenderer","TitleComponent","TooltipComponent","GridComponent","LegendComponent","ToolboxComponent","DataZoomComponent","DataZoomInsideComponent","MarkLineComponent","MarkPointComponent","apply","this","arguments","recursiveMerge","target","source","updatedObj","_objectSpread","key","_typeof","updateOptions","currentOptions","options","useEchart","container","initialOptions","_ref$shouldEnableZoom","shouldEnableZoom","echartsCoreRef","useRef","echartsInstanceRef","initialOptionsRef","_useState2","useState","current","setOptions","previousOptions","usePrevious","_useState4","error","setError","_useState6","ready","setReady","activeHandlers","Map","addSeries","useCallback","data","prevOptions","updatedOptions","series","some","name","push","utils.addSeries","removeSeries","_toConsumableArray","filter","utils.removeSeries","utils.updateOptions","addToGroup","groupId","echartsInstance","isInstanceAlreadyGrouped","group","connect","removeFromGroup","clearDataZoom","params","start","end","dispatchAction","type","enableZoom","dataZoomSelectActive","setupZoomSelect","xAxis","yAxis","toolbox","feature","dataZoom","xAxisIndex","yAxisIndex","off","on","action","callback","delete","concat","useCanvasAsTrigger","getZr","handlerKey","has","zoomHandler","zoomSelectionEvent","startValue","endValue","_params$dataZoomId","axis","dataZoomId","includes","batch","forEach","batchItem","_batchItem$dataZoomId","set","showTooltip","x","y","hideTooltip","resize","useEffect","activeHandlersMap","doesInstanceMatchContainer","getDom","isInstanceDisposed","isDisposed","initializeEcharts","then","newChart","init","devicePixelRatio","window","renderer","setOption","catch","err","console","clear","dispose","colors","isEqual","notMerge","_getEChartsInstance","_getOptions","CHART_TOOLTIP_CLASSNAME","DEFAULT_TOOLTIP_OPTIONS","tooltip","axisPointer","z","show","trigger","formatter","commonAxisOptions","splitLine","axisLine","axisLabel","axisTick","useChart","chartId","enableGroupTooltipSync","_ref$onChartReady","onChartReady","onZoomSelect","zoomSelect","useMemo","aria","animation","title","chartColors","grid","left","spacing","right","top","bottom","borderColor","borderWidth","containLabel","icon","zoom","back","brushStyle","palette","gray","light1","opacity","getDefaultChartOptions","setContainer","id","useIdAllocator","prefix","echart","_useTooltipVisibility","isChartHovered","setIsChartHovered","pinnedPosition","setPinnedPosition","tooltipMounted","setTooltipMounted","_useState8","tooltipPinned","setTooltipPinned","tooltipMountedRef","tooltipPinnedRef","toggleChartHover","isMouseEnter","showTooltipOnMouseMove","offsetX","offsetY","pinTooltip","unpinTooltip","requestAnimationFrame","addUnpinCallbackToCloseButton","btn","document","querySelector","HTMLElement","dataset","bound","addEventListener","toggleTooltipPinning","hideTooltipOnMouseOverMark","componentType","stopHideTooltipOnMouseOutMark","removeEventListener","_pinnedPosition","setTimeout","tooltipEls","getElementsByClassName","Array","from","el","remove","useTooltipVisibility","_enableZoomOnRender","zoomEventResponse","initialRenderRef","handleResize","resizeObserver","ResizeObserver","observe","disconnect","ref","_excluded","Chart","className","darkModeProp","darkMode","_ref$dragId","dragId","_ref$enableGroupToolt","idProp","_ref$state","rest","_objectWithoutProperties","useDarkMode","_useSortable","useSortable","attributes","listeners","setNodeRef","items","length","LeafyGreenProvider","_extends","Body","baseFontSize","BaseFontSize","Body2","displayName","unsetGridOptions","ChartGrid","_ref$horizontal","horizontal","_ref$vertical","vertical","_useChartContext$char","getUpdatedLineOptions","lineStyle","getContainerStyles","showDivider","titleStyles","ChartHeader","titleIcon","headerContent","weight","Body1","getRootStylesText","InversePrimary","borderRadius","fontFamilies","default","fontWeights","regular","getHeaderStyles","InverseSecondary","closeButtonStyles","pinTooltipNoteStyles","getColorDotStyle","SeriesListItemColorDot","containerStyle","nameStyle","valueStyle","semiBold","SeriesListItem","seriesName","seriesNameFormatter","seriesValueFormatter","Date","toLocaleDateString","getSeriesListStyles","SeriesList","seriesData","sort","b","_a$data","nameA","valueA","_b$data","nameB","valueB","descendingCompareFn","map","CustomTooltip","axisValueLabel","dateTimeStamp","headerFormatter","axisType","axisValue","toLocaleString","timeZone","month","day","year","hour","minute","second","hour12","Fragment","IconButton","XIcon","size","CursorIcon","ChartTooltip","_useDarkMode","formatTooltip","renderToString","formatPinnedTooltip","scrollEl","scrollTop","html","newScrollEl","alwaysShowContent","confine","enterable","renderMode","showContent","triggerOn","extraCssText","padding","showDelay","hideDelay","transitionDuration","EventLevel","dataUriMap","Theme","Dark","info","warning","Light","generateSymbolDataUri","level","BaseEventMarker","position","label","message","_ref$level","labelConfig","backgroundColor","distance","fontFamily","fontSize","fontWeight","lineHeight","rich","align","commonConfig","markLine","emphasis","focus","width","symbol","symbolSize","symbolRotate","markPoint","coord","getMarkConfig","EventMarkerLine","EventMarkerPoint","defaultLineOptions","showSymbol","clip","blur","Line","_useSeriesContext","useSeriesContext","getColor","isChecked","isVisible","itemStyle","ThresholdLine","silent","symbolOffset","getThresholdLineConfig","unsetAxisOptions","XAxis","medium","margin","nameLocation","nameTextStyle","nameGap","getOptions","YAxis"],"mappings":"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"}