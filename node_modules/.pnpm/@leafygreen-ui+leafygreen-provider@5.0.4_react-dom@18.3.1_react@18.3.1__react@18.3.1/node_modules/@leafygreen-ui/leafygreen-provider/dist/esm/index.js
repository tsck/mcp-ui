import e,{useContext as r,createContext as n,useState as o,useMemo as t,useEffect as a}from"react";import{getTheme as i}from"@leafygreen-ui/lib";import{useEventListener as l}from"@leafygreen-ui/hooks";var u=n({contextDarkMode:!1,setDarkMode:function(){}}),c=function(){return r(u)},d=function(e){var r,n=c(),o=n.contextDarkMode,t=n.setDarkMode,a=null!==(r=null!=e?e:o)&&void 0!==r&&r;return{darkMode:a,theme:i(a),setDarkMode:t}};function v(r){var n=r.children,o=r.contextDarkMode,t=r.setDarkMode;return e.createElement(u.Provider,{value:{contextDarkMode:o,setDarkMode:t}},n)}function f(e,r){r>e.length&&(r=e.length);for(var n=0,o=Array(r);n<r;n++)o[n]=e[n];return o}function p(e,r){if(null==e)return{};var n,o,t=function(e,r){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==r.indexOf(o))continue;n[o]=e[o]}return n}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],-1===r.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function s(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,t,a,i,l=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===r);else for(;!(u=(o=a.call(n)).done)&&(l.push(o.value),l.length!==r);u=!0);}catch(e){c=!0,t=e}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw t}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return f(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}v.displayName="DarkModeProvider";var y=["children"],m=n({forceUseTopLayer:!1}),b=function(){return r(m)},P=function(r){var n=r.children,o=p(r,y);return e.createElement(m.Provider,{value:o},n)};P.displayName="MigrationProvider";var h={popover:{portalContainer:void 0,scrollContainer:void 0}},g=n(h);function k(){return r(g).popover}function M(r){var n=r.popover,o=void 0===n?h.popover:n,t=r.children;return e.createElement(g.Provider,{value:{popover:o}},t)}var E=n(14);function O(){return r(E)}function w(r){var n=r.children,o=r.baseFontSize,t=void 0===o?14:o;return e.createElement(E.Provider,{value:t},n)}w.displayName="TypographyProvider";var D={usingKeyboard:!0,setUsingKeyboard:function(){}},C=n(D),x={tab:9,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40};function A(){return r(C)}function S(r){var n=r.children,a=s(o(D.usingKeyboard),2),i=a[0],u=a[1];l("mousedown",function(){return u(!1)},{enabled:i}),l("keydown",function(e){var r=e.keyCode;Object.values(x).includes(r)&&u(!0)},{enabled:!i});var c=t(function(){return{usingKeyboard:i,setUsingKeyboard:u}},[i]);return e.createElement(C.Provider,{value:c},n)}function U(r){var n=r.children,t=r.baseFontSize,i=r.popoverPortalContainer,l=r.darkMode,u=r.forceUseTopLayer,d=void 0!==u&&u,f=c().contextDarkMode,p=s(o(null!=l?l:f),2),y=p[0],m=p[1];a(function(){m(null!=l?l:f)},[l,f]);var h=O(),g=null!=t?t:h,E=k(),D=null!=i?i:E,C=b(),x=d||C.forceUseTopLayer;return e.createElement(S,null,e.createElement(M,{popover:D},e.createElement(w,{baseFontSize:g},e.createElement(v,{contextDarkMode:y,setDarkMode:m},e.createElement(P,{forceUseTopLayer:x},n)))))}S.displayName="UsingKeyboardProvider",U.displayName="LeafyGreenProvider";var I=n({isPopoverOpen:!1,setIsPopoverOpen:function(){}}),N=function(){return r(I)},T=function(r){var n=r.children,a=s(o(!1),2),i=a[0],l=a[1],u=t(function(){return{isPopoverOpen:i,setIsPopoverOpen:l}},[i]);return e.createElement(I.Provider,{value:u},n)};T.displayName="PopoverProvider";var j=["children"],K=n({}),L=function(){return r(K)},z=function(r){var n=r.children,o=p(r,j),t=k(),a={portalContainer:o.portalContainer||t.portalContainer,scrollContainer:o.scrollContainer||t.scrollContainer};return e.createElement(K.Provider,{value:o},e.createElement(M,{popover:a},n))};z.displayName="PopoverPropsProvider";var F={Inline:"inline",Portal:"portal",TopLayer:"top-layer"};export{I as PopoverContext,K as PopoverPropsContext,z as PopoverPropsProvider,T as PopoverProvider,M as PortalContextProvider,F as RenderMode,U as default,O as useBaseFontSize,d as useDarkMode,c as useDarkModeContext,b as useMigrationContext,N as usePopoverContext,k as usePopoverPortalContainer,L as usePopoverPropsContext,A as useUsingKeyboardContext};
//# sourceMappingURL=index.js.map
