!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("react"),require("@leafygreen-ui/lib"),require("@leafygreen-ui/hooks")):"function"==typeof define&&define.amd?define(["exports","react","@leafygreen-ui/lib","@leafygreen-ui/hooks"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self)["@leafygreen-ui/leafygreen-provider"]={},e.React,e.lib,e.hooks)}(this,function(e,r,t,n){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(r),i=r.createContext({contextDarkMode:!1,setDarkMode:function(){}}),u=function(){return r.useContext(i)};function l(e){var r=e.children,t=e.contextDarkMode,n=e.setDarkMode;return a.default.createElement(i.Provider,{value:{contextDarkMode:t,setDarkMode:n}},r)}function d(e,r){r>e.length&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function c(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,u=[],l=!0,d=!1;try{if(a=(t=t.call(e)).next,0===r);else for(;!(l=(n=a.call(t)).done)&&(u.push(n.value),u.length!==r);l=!0);}catch(e){d=!0,o=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(d)throw o}}return u}}(e,r)||function(e,r){if(e){if("string"==typeof e)return d(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}l.displayName="DarkModeProvider";var s=["children"],v=r.createContext({forceUseTopLayer:!1}),p=function(){return r.useContext(v)},y=function(e){var r=e.children,t=c(e,s);return a.default.createElement(v.Provider,{value:t},r)};y.displayName="MigrationProvider";var P={popover:{portalContainer:void 0,scrollContainer:void 0}},m=r.createContext(P);function b(){return r.useContext(m).popover}function x(e){var r=e.popover,t=void 0===r?P.popover:r,n=e.children;return a.default.createElement(m.Provider,{value:{popover:t}},n)}var C=r.createContext(14);function h(){return r.useContext(C)}function g(e){var r=e.children,t=e.baseFontSize,n=void 0===t?14:t;return a.default.createElement(C.Provider,{value:n},r)}g.displayName="TypographyProvider";var M={usingKeyboard:!0,setUsingKeyboard:function(){}},k=r.createContext(M),E={tab:9,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40};function D(e){var t=e.children,o=f(r.useState(M.usingKeyboard),2),i=o[0],u=o[1];n.useEventListener("mousedown",function(){return u(!1)},{enabled:i}),n.useEventListener("keydown",function(e){var r=e.keyCode;Object.values(E).includes(r)&&u(!0)},{enabled:!i});var l=r.useMemo(function(){return{usingKeyboard:i,setUsingKeyboard:u}},[i]);return a.default.createElement(k.Provider,{value:l},t)}function O(e){var t=e.children,n=e.baseFontSize,o=e.popoverPortalContainer,i=e.darkMode,d=e.forceUseTopLayer,c=void 0!==d&&d,s=u().contextDarkMode,v=f(r.useState(null!=i?i:s),2),P=v[0],m=v[1];r.useEffect(function(){m(null!=i?i:s)},[i,s]);var C=h(),M=null!=n?n:C,k=b(),E=null!=o?o:k,O=p(),S=c||O.forceUseTopLayer;return a.default.createElement(D,null,a.default.createElement(x,{popover:E},a.default.createElement(g,{baseFontSize:M},a.default.createElement(l,{contextDarkMode:P,setDarkMode:m},a.default.createElement(y,{forceUseTopLayer:S},t)))))}D.displayName="UsingKeyboardProvider",O.displayName="LeafyGreenProvider";var S=r.createContext({isPopoverOpen:!1,setIsPopoverOpen:function(){}}),w=function(e){var t=e.children,n=f(r.useState(!1),2),o=n[0],i=n[1],u=r.useMemo(function(){return{isPopoverOpen:o,setIsPopoverOpen:i}},[o]);return a.default.createElement(S.Provider,{value:u},t)};w.displayName="PopoverProvider";var A=["children"],T=r.createContext({}),j=function(e){var r=e.children,t=c(e,A),n=b(),o={portalContainer:t.portalContainer||n.portalContainer,scrollContainer:t.scrollContainer||n.scrollContainer};return a.default.createElement(T.Provider,{value:t},a.default.createElement(x,{popover:o},r))};j.displayName="PopoverPropsProvider";e.PopoverContext=S,e.PopoverPropsContext=T,e.PopoverPropsProvider=j,e.PopoverProvider=w,e.PortalContextProvider=x,e.RenderMode={Inline:"inline",Portal:"portal",TopLayer:"top-layer"},e.default=O,e.useBaseFontSize=h,e.useDarkMode=function(e){var r,n=u(),o=n.contextDarkMode,a=n.setDarkMode,i=null!==(r=null!=e?e:o)&&void 0!==r&&r;return{darkMode:i,theme:t.getTheme(i),setDarkMode:a}},e.useDarkModeContext=u,e.useMigrationContext=p,e.usePopoverContext=function(){return r.useContext(S)},e.usePopoverPortalContainer=b,e.usePopoverPropsContext=function(){return r.useContext(T)},e.useUsingKeyboardContext=function(){return r.useContext(k)},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
