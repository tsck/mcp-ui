import e,{createContext as t,forwardRef as r,useState as n,useEffect as a}from"react";import{useSortable as i}from"@dnd-kit/sortable";import{css as o,cx as l}from"@leafygreen-ui/emotion";import{useIdAllocator as s,useMergeRefs as d}from"@leafygreen-ui/hooks";import c from"@leafygreen-ui/icon";import u from"@leafygreen-ui/icon-button";import{useDarkMode as m}from"@leafygreen-ui/leafygreen-provider";import{spacing as f,transitionDuration as p,BaseFontSize as g,color as h,Variant as b,InteractionState as y,borderRadius as v}from"@leafygreen-ui/tokens";import{Body as C}from"@leafygreen-ui/typography";import{CSS as w}from"@dnd-kit/utilities";var x={baseFontSize:{description:"The base font size passed to the LeafyGreenProvider that wraps the component",control:{type:"radio"},options:[14,16]},updatedBaseFontSize:{description:"The base font size passed to the LeafyGreenProvider that wraps the component. Uses the updated font size values for Euclid Circular A.",control:{type:"radio"},options:[13,16]},darkMode:{description:"Render the component in dark mode.",control:"boolean"},children:{description:"Element rendered inside the component",control:"text"},as:{description:"The component will be rendered in HTML as the element selected here",options:["small","button","a","abbr","address","article","aside","b","big","blockquote","caption","cite","code","dd","del","details","dfn","dialog","div","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","i","ins","kbd","keygen","label","legend","li","main","map","mark","menu","menuitem","meter","nav","noscript","ol","p","picture","pre","progress","q","rp","rt","ruby","s","samp","slot","script","section","select","span","strong","style","sub","summary","sup","template","tbody","td","tfoot","th","thead","time","title","tr","u","ul"],type:{name:"string"},control:{type:"select"},defaultValue:"button"}};function O(e,t){t>e.length&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(null,arguments)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,o,l=[],s=!0,d=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){d=!0,a=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var N,P,S,z,A,D,I,M,B,L,F,G,H,_="unset",q="dragging",R="overlay",U=function(e){var t=e.theme,r=e.transition,n=e.transform,a=e.isDraggable,i=e.isOpen,s=e.state,d=e.className;return l(function(e){return o(N||(N=j(["\n  background: ",";\n  border: 1px solid\n    ",";\n  border-radius: ","px;\n  overflow: hidden;\n  width: 100%;\n  display: grid;\n  grid-template-rows: 40px 0fr;\n  transition: grid-template-rows ","ms ease-in-out;\n"])),h[e].background[b.Primary][y.Default],h[e].border[b.Disabled][y.Default],v[200],p.slower)}(t),k(k(k(k({},V,i),function(e,t){return o(P||(P=j(["\n  transform: ",";\n  transition: ",";\n"])),w.Transform.toString(e),t)}(n,r),a),o(S||(S=j(["\n  opacity: 0.3;\n"]))),s===q),o(z||(z=j(["\n  box-shadow: 0 18px 18px -15px rgba(0, 30, 43, 0.2);\n"]))),s===R),d)},V=o(A||(A=j(["\n  grid-template-rows: 40px 1fr;\n"]))),$=function(e){var t=e.theme,r=e.state,n=e.isDraggable,a=e.className;return l(o(D||(D=j(["\n      width: 100%;\n      height: 100%;\n      padding: ","px ","px;\n      display: grid;\n      grid-template-columns: auto 1fr;\n      background: 'none';\n    "])),f[150],f[300]),k(k({},o(I||(I=j(["\n        cursor: move;\n      "]))),n),o(M||(M=j(["\n        background: ",";\n      "])),h[t].background[b.Primary][y.Hover]),r===R),a)},J=o(B||(B=j(["\n  overflow: hidden;\n"]))),K=o(L||(L=j(["\n  margin-right: ","px;\n"])),f[100]),Q=o(F||(F=j(["\n  transform: rotate(-90deg);\n  transition: transform ","ms ease-in-out;\n"])),p.slower),W=o(G||(G=j(["\n  transform: rotate(0deg);\n"]))),X=o(H||(H=j(["\n  display: flex;\n  align-items: center;\n"]))),Y=t(void 0);function Z(t){var r=t.state,n=t.children;return e.createElement(Y.Provider,{value:{state:r}},n)}var ee=["children","className","title","headerContent","defaultOpen","isOpen","onToggleButtonClick","state","dragId"],te=r(function(t,r){var o=t.children,f=t.className,p=t.title,h=t.headerContent,b=t.defaultOpen,y=void 0===b||b,v=t.isOpen,w=t.onToggleButtonClick,x=t.state,O=void 0===x?_:x,j=t.dragId,N=void 0===j?"":j,P=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(t,ee),S=m().theme,z=void 0!==v,A=T(n(null!=v?v:y),2),D=A[0],I=A[1],M=s({prefix:"expandable-chart-card-toggle"}),B=s({prefix:"expandable-chart-card-content"}),L=i({id:N,attributes:{role:""}}),F=L.attributes,G=L.listeners,H=L.setNodeRef,q=L.transform,R=L.transition,V=!(!L.items.length||!N);return a(function(){z&&I(null!=v?v:y)},[y,z,v]),e.createElement(Z,{state:O},e.createElement("div",E({className:U({theme:S,transition:R,transform:q,isDraggable:V,isOpen:D,state:O,className:f}),ref:d([H,r]),"data-drag-id":N,"data-is-open":D},P),e.createElement("div",E({className:$({theme:S,state:O,isDraggable:V,className:f}),"data-testid":"lg-charts-core-chart_card-header"},F,G),e.createElement("div",{className:X},e.createElement(u,{className:K,id:M,"aria-label":"Toggle button","aria-controls":B,"aria-expanded":D,onClick:function(e){z||I(function(e){return!e}),null==w||w(e)},"data-testid":"lg-charts-core-chart_card-toggle-button","data-no-dnd":!0},e.createElement(c,{glyph:"ChevronDown",className:l(Q,k({},W,D))})),e.createElement(C,{weight:"medium",baseFontSize:g.Body2},p)),e.createElement("div",{"data-no-dnd":!0},h)),e.createElement("div",{className:J},e.createElement("div",{role:"region",id:B,"aria-labelledby":M,"aria-hidden":!D,"data-testid":"lg-charts-core-chart_card-children"},o))))});te.displayName="ChartCard";var re={title:"Composition/Charts/ChartCard",component:te,parameters:{generate:{combineArgs:{darkMode:[!1,!0],isOpen:[!1,!0],state:["unset","overlay","dragging"]}}},args:{chartCardTitle:"LeafyGreen ChartCard",headerContent:e.createElement("div",{style:{display:"flex",justifyContent:"right",alignItems:"center",height:"100%"}},"Header Content"),children:e.createElement("div",{style:{height:"300px"}})},argTypes:{darkMode:x.darkMode,chartCardTitle:{control:"text",description:"ChartCard title",name:"Title"},children:{table:{disable:!0}},defaultOpen:{table:{disable:!0}},headerContent:{table:{disable:!0}},isOpen:{table:{disable:!0}}}},ne={render:function(t){var r=t.chartCardTitle,n=t.children,a=t.headerContent;return e.createElement(te,{title:r,headerContent:a},n)}},ae=function(){};export{ae as Generated,ne as LiveExample,re as default};
