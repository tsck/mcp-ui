import e,{useContext as r,createContext as t,forwardRef as n,useState as a,useEffect as i}from"react";import{useSortable as o}from"@dnd-kit/sortable";import{cx as l,css as s}from"@leafygreen-ui/emotion";import{useIdAllocator as c,useMergeRefs as u}from"@leafygreen-ui/hooks";import d from"@leafygreen-ui/icon";import f from"@leafygreen-ui/icon-button";import{useDarkMode as m}from"@leafygreen-ui/leafygreen-provider";import{spacing as g,color as p,Variant as b,InteractionState as y,transitionDuration as v,borderRadius as h,BaseFontSize as O}from"@leafygreen-ui/tokens";import{Body as w}from"@leafygreen-ui/typography";import{CSS as x}from"@dnd-kit/utilities";function E(e,r){r>e.length&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function N(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},j.apply(null,arguments)}function k(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,i,o,l=[],s=!0,c=!1;try{if(i=(t=t.call(e)).next,0===r);else for(;!(s=(n=i.call(t)).done)&&(l.push(n.value),l.length!==r);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,r)||function(e,r){if(e){if("string"==typeof e)return E(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var S,D,C,A,I,T,z,B,U,_,F,H,M,R={Unset:"unset",Dragging:"dragging",Overlay:"overlay"},$=function(e){var r=e.theme,t=e.transition,n=e.transform,a=e.isDraggable,i=e.isOpen,o=e.state,c=e.className;return l(function(e){return s(S||(S=P(["\n  background: ",";\n  border: 1px solid\n    ",";\n  border-radius: ","px;\n  overflow: hidden;\n  width: 100%;\n  display: grid;\n  grid-template-rows: 40px 0fr;\n  transition: grid-template-rows ","ms ease-in-out;\n"])),p[e].background[b.Primary][y.Default],p[e].border[b.Disabled][y.Default],h[200],v.slower)}(r),N(N(N(N({},q,i),function(e,r){return s(D||(D=P(["\n  transform: ",";\n  transition: ",";\n"])),x.Transform.toString(e),r)}(n,t),a),s(C||(C=P(["\n  opacity: 0.3;\n"]))),o===R.Dragging),s(A||(A=P(["\n  box-shadow: 0 18px 18px -15px rgba(0, 30, 43, 0.2);\n"]))),o===R.Overlay),c)},q=s(I||(I=P(["\n  grid-template-rows: 40px 1fr;\n"]))),G=function(e){var r=e.theme,t=e.state,n=e.isDraggable,a=e.className;return l(s(T||(T=P(["\n      width: 100%;\n      height: 100%;\n      padding: ","px ","px;\n      display: grid;\n      grid-template-columns: auto 1fr;\n      background: 'none';\n    "])),g[150],g[300]),N(N({},s(z||(z=P(["\n        cursor: move;\n      "]))),n),s(B||(B=P(["\n        background: ",";\n      "])),p[r].background[b.Primary][y.Hover]),t===R.Overlay),a)},J=s(U||(U=P(["\n  overflow: hidden;\n"]))),K=s(_||(_=P(["\n  margin-right: ","px;\n"])),g[100]),L=s(F||(F=P(["\n  transform: rotate(-90deg);\n  transition: transform ","ms ease-in-out;\n"])),v.slower),Q=s(H||(H=P(["\n  transform: rotate(0deg);\n"]))),V=s(M||(M=P(["\n  display: flex;\n  align-items: center;\n"]))),W=t(void 0);function X(r){var t=r.state,n=r.children;return e.createElement(W.Provider,{value:{state:t}},n)}function Y(){return r(W)}var Z=["children","className","title","headerContent","defaultOpen","isOpen","onToggleButtonClick","state","dragId"],ee=n(function(r,t){var n=r.children,s=r.className,g=r.title,p=r.headerContent,b=r.defaultOpen,y=void 0===b||b,v=r.isOpen,h=r.onToggleButtonClick,x=r.state,E=void 0===x?R.Unset:x,P=r.dragId,S=void 0===P?"":P,D=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(r,Z),C=m().theme,A=void 0!==v,I=k(a(null!=v?v:y),2),T=I[0],z=I[1],B=c({prefix:"expandable-chart-card-toggle"}),U=c({prefix:"expandable-chart-card-content"}),_=o({id:S,attributes:{role:""}}),F=_.attributes,H=_.listeners,M=_.setNodeRef,q=_.transform,W=_.transition,Y=!(!_.items.length||!S);return i(function(){A&&z(null!=v?v:y)},[y,A,v]),e.createElement(X,{state:E},e.createElement("div",j({className:$({theme:C,transition:W,transform:q,isDraggable:Y,isOpen:T,state:E,className:s}),ref:u([M,t]),"data-drag-id":S,"data-is-open":T},D),e.createElement("div",j({className:G({theme:C,state:E,isDraggable:Y,className:s}),"data-testid":"lg-charts-core-chart_card-header"},F,H),e.createElement("div",{className:V},e.createElement(f,{className:K,id:B,"aria-label":"Toggle button","aria-controls":U,"aria-expanded":T,onClick:function(e){A||z(function(e){return!e}),null==h||h(e)},"data-testid":"lg-charts-core-chart_card-toggle-button","data-no-dnd":!0},e.createElement(d,{glyph:"ChevronDown",className:l(L,N({},Q,T))})),e.createElement(w,{weight:"medium",baseFontSize:O.Body2},g)),e.createElement("div",{"data-no-dnd":!0},p)),e.createElement("div",{className:J},e.createElement("div",{role:"region",id:U,"aria-labelledby":B,"aria-hidden":!T,"data-testid":"lg-charts-core-chart_card-children"},n))))});ee.displayName="ChartCard";export{ee as ChartCard,X as ChartCardProvider,R as ChartCardStates,Y as useChartCardContext};
//# sourceMappingURL=index.js.map
