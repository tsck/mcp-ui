import e,{createContext as t,useState as r,useEffect as n,useCallback as o,useMemo as i,useContext as u}from"react";import{colors as l}from"@lg-charts/colors";function c(e,t){t>e.length&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,u,l=[],c=!0,a=!1;try{if(i=(r=r.call(e)).next,0===t);else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){a=!0,o=e}finally{try{if(!c&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(a)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=t({getColor:function(){return""},getSeriesIndex:function(){return-1},isChecked:function(){return!0},isSelectAllChecked:function(){return!0},isSelectAllIndeterminate:function(){return!1},toggleSeries:function(){},toggleSelectAll:function(){}}),f=function(e){return new Set(e).size!==e.length},d=function(t){var u=t.children,c=t.customColors,d=t.series,h=a(r(function(){return new Set(d)}),2),g=h[0],v=h[1];n(function(){if("production"!==process.env.NODE_ENV&&c)for(var e=0,t=Object.values(c);e<t.length;e++){var r=t[e];r&&f(r)&&console.warn("customColors provided to SeriesProvider should not contain duplicates. This may lead to unexpected behavior.")}},[c]);var S=o(function(e){return d.indexOf(e)},[d]),m=o(function(e,t){var r=c?c[t]:l[t];return r[S(e)%r.length]},[c,S]),y=o(function(e){return g.has(e)},[g]),p=o(function(){return g.size===d.length},[g,d]),b=o(function(){return g.size>0&&g.size<d.length},[g,d]),w=o(function(e){v(function(t){var r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r})},[]),A=o(function(){v(function(){return p()?new Set:new Set(d)})},[p,d]),C=i(function(){return{getColor:m,getSeriesIndex:S,isChecked:y,isSelectAllChecked:p,isSelectAllIndeterminate:b,toggleSeries:w,toggleSelectAll:A}},[m,S,y,p,b,w,A]);return e.createElement(s.Provider,{value:C},u)},h=function(){var e=u(s);if(!e)throw new Error("useSeriesContext must be used within a SeriesProvider");return e};export{s as SeriesContext,d as SeriesProvider,h as useSeriesContext};
//# sourceMappingURL=index.js.map
